/*! For license information please see main.6dcb69ee.chunk.js.LICENSE.txt */
(this["webpackJsonpwhats-app-clone"]=this["webpackJsonpwhats-app-clone"]||[]).push([[0],{167:function(e,t,a){e.exports=a(228)},227:function(e,t,a){},228:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(16),i=a.n(o),s=a(31),c=a(7),l=a(9),u=a(268),p=Object(u.a)((function(e){return{root:{width:"90vw",height:"90vh",background:"white",position:"relative",zIndex:"2",boxShadow:" -2px -2px 10px grey",display:"flex",textAlign:"center",paddingTop:"30px"},emailInput:{fontWeight:"bold","& >.MuiInputLabel-outlined":{fontWeight:"bold"}},passwordInput:{"& >.MuiInputLabel-outlined":{fontWeight:"bold"}},InputBorder:{borderColor:"#019688"},loginBtn:{backgroundColor:"#019688",fontWeight:"bold",marginTop:"25px","&:hover":{backgroundColor:"#008276"}},notSignedUp:{paddingTop:"20px",textAlign:"center",fontWeight:"bold"},signUpLink:{textDecoration:"none",color:"#019688","&:hover":{textDecoration:"underline"}},lonInTopHeader:{display:"inline-flex",margin:"auto",alignItems:"center",justifyContent:"center"},loginLogo:{textAlign:"center",display:"inline-block",width:"75px",height:"75px",margin:"auto","&>img":{width:"100%",height:"100%"}}}})),d=a(152),m=a(274),g=a(65),h=a(275),f=a(304),E=a(277),b=a(308),x=a(305),v=a(278),y=a(92),O=a(23),w=a(5),S=a.n(w),C=a(12),R="";(R="http://localhost:5000")||(alert("NODE_ENV variable isn't defined check console log, IN URLS constants"),console.log("production"));var N="".concat(R,"/api/v1/users"),I="".concat(R,"/api/v1/rooms"),k="".concat(R,"/api/v1/messages"),j="".concat(R,"/api/v1/blocks"),_=a(17),T=a.n(_),U=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{type:"update",force:!1};return function(){var a=Object(C.a)(S.a.mark((function a(n,r){var o,i,s,l,u,p,d,m,g;return S.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if("update"!==t.type){a.next=10;break}if((o=r().currentOpenRoom.currentOpenRoom||{}).userToShowOnRoom&&e.userId===o.userToShowOnRoom._id){a.next=4;break}return a.abrupt("return");case 4:n({type:"CURRENT_USER_DATA",payload:e}),i=r().currentChattingUserData,s=Object(c.a)(Object(c.a)({},i),e),localStorage.setItem("currentChattingUserData",JSON.stringify(s)),a.next=33;break;case 10:if("new"!==t.type){a.next=33;break}if(a.prev=11,(r().currentOpenRoom.currentOpenRoom||{userToShowOnRoom:{}}).userToShowOnRoom._id!==e.userId||t.force){a.next=15;break}return a.abrupt("return");case 15:if(e.userId){a.next=17;break}return a.abrupt("return");case 17:return l="Bearer ".concat(r().loginUser.user.token),u={headers:{authorization:l}},a.next=21,T.a.get("".concat(N,"/getUserData/").concat(e.userId),u);case 21:p=a.sent,d=p.data.data,m=d.onlineId?"online":"offline",g=Object(c.a)({status:m},d),n({type:"CURRENT_USER_DATA_RESET"}),n({type:"CURRENT_USER_DATA",payload:g}),localStorage.setItem("currentChattingUserData",JSON.stringify(g)),a.next=33;break;case 30:a.prev=30,a.t0=a.catch(11),n({type:"CURRENT_USER_DATA_FAIL",payload:a.t0.response&&a.t0.response.data.message?a.t0.response.data.message:a.t0.message});case 33:case"end":return a.stop()}}),a,null,[[11,30]])})));return function(e,t){return a.apply(this,arguments)}}()},A=a(8),D=Object(d.a)({palette:{primary:y.a}}),M=function(e){var t=e.history,a=Object(n.useState)({email:"",password:""}),o=Object(l.a)(a,2),i=o[0],u=o[1],d=p(),y=Object(A.b)(),w=Object(A.c)((function(e){return e.loginUser})),R=w.loading,I=w.user,k=w.err,j=w.success;function _(e){return r.a.createElement(x.a,Object.assign({elevation:6,variant:"filled"},e))}var U=function(e){var t=e.target,a=t.name,n=t.value;u(Object(c.a)(Object(c.a)({},i),{},Object(s.a)({},a,n)))};return Object(n.useEffect)((function(){I&&I.token&&t.push("/home")}),[y,t,I,j]),r.a.createElement(r.a.Fragment,null,j?r.a.createElement(b.a,{open:j,autoHideDuration:1e3,anchorOrigin:{horizontal:"center",vertical:"top"}},r.a.createElement(_,{severity:"success"},"Logged in successfully")):"",R?r.a.createElement(b.a,{open:R,autoHideDuration:1e3,anchorOrigin:{horizontal:"center",vertical:"top"}},r.a.createElement(_,{severity:"info"},"Logging in")):"",k?r.a.createElement(b.a,{open:k&&!0,autoHideDuration:1e3,anchorOrigin:{horizontal:"center",vertical:"top"}},r.a.createElement(_,{severity:"error"},k)):"",r.a.createElement("div",{className:d.root},r.a.createElement(m.a,{maxWidth:"xs"},r.a.createElement(g.a,{className:d.lonInTopHeader,style:{textAlign:"center"},variant:"h2"},"Login",r.a.createElement("div",{className:d.loginLogo},r.a.createElement("img",{src:"images/login/loginLogo.png",alt:"Login Logo"}))),r.a.createElement("form",{className:d.loginFrom,onSubmit:function(e){e.preventDefault(),y(function(e){return function(){var t=Object(C.a)(S.a.mark((function t(a,n){var r,o,i,s,l,u;return S.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:"LOGIN_REQUEST"}),r={headers:{"Content-Type":"application/json"}},t.next=5,T.a.post("".concat(N,"/login"),e,r);case 5:o=t.sent,i=o.data,s=i.token,l=i.user,u=Object(c.a)(Object(c.a)({},l),{},{token:s}),a({type:"LOGIN_SUCCESS",payload:u}),localStorage.setItem("loggedInUser",JSON.stringify(u)),t.next=16;break;case 13:t.prev=13,t.t0=t.catch(0),a({type:"LOGIN_FAIL",payload:t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message});case 16:case"end":return t.stop()}}),t,null,[[0,13]])})));return function(e,a){return t.apply(this,arguments)}}()}(i))}},r.a.createElement(h.a,{theme:D},r.a.createElement(f.a,{fullWidth:!0,margin:"normal",variant:"outlined",label:"Email",required:!0,name:"email",type:"email",id:"email",disabled:R,autoComplete:"current-email",onChange:U,value:i.email,className:d.emailInput,InputProps:{className:d.emailInput,classes:{notchedOutline:d.InputBorder}}}),r.a.createElement(f.a,{fullWidth:!0,margin:"normal",variant:"outlined",label:"Password",required:!0,name:"password",type:"password",id:"password",disabled:R,autoComplete:"current-password",onChange:U,value:i.password,inputProps:{minLength:8},className:d.passwordInput,InputProps:{className:d.passwordInput,classes:{notchedOutline:d.InputBorder}}})),r.a.createElement(E.a,{type:"submit",variant:"contained",color:"primary",className:d.loginBtn,style:{backgroundColor:"#019688"},fullWidth:!0,disabled:R,endIcon:R&&r.a.createElement(v.a,{style:{color:"black",width:"20px",height:"20px"}})},"Login")),r.a.createElement(g.a,{className:d.notSignedUp},"Don't have email ?"," ",r.a.createElement(O.b,{className:d.signUpLink,to:"/signup"}," ","Signup")),r.a.createElement(g.a,{className:d.notSignedUp},r.a.createElement(O.b,{className:d.signUpLink,to:"/forgotPassword"},"Forgot password")," ","?"))))},B=Object(u.a)((function(e){return{root:{width:"90vw",height:"90vh",background:"white",position:"relative",zIndex:"2",boxShadow:" -2px -2px 10px grey",display:"flex",textAlign:"center",paddingTop:"30px"},emailInput:{fontWeight:"bold","& >.MuiInputLabel-outlined":{fontWeight:"bold"}},passwordInput:{"& >.MuiInputLabel-outlined":{fontWeight:"bold"}},InputBorder:{borderColor:"#019688"},loginBtn:{backgroundColor:"#019688",fontWeight:"bold",marginTop:"25px","&:hover":{backgroundColor:"#008276"}},notSignedUp:{paddingTop:"20px",textAlign:"center",fontWeight:"bold"},signUpLink:{textDecoration:"none",color:"#019688","&:hover":{textDecoration:"underline"}},lonInTopHeader:{display:"inline-flex",margin:"auto",alignItems:"center",justifyContent:"center"},loginLogo:{textAlign:"center",display:"inline-block",width:"75px",height:"75px",margin:"auto","&>img":{width:"100%",height:"100%"}},photoContainer:{display:"flex",justifyContent:"flex-end",alignItems:"center"},photoInput:{display:"none"},inputLabel:{width:"60px",height:"60px",borderRadius:"50%",backgroundColor:"#eee",border:"2px solid #ddd",cursor:"pointer","&>div:hover":{opacity:"1"}},cameraIconContainer:{position:"relative",width:"100%",height:"100%",display:"flex",justifyContent:"center",alignItems:"center",opacity:"0.5","&>*":{width:"70%",height:"70%",position:"absolute"}},avatarContainer:{width:"100%",height:"100%",position:"relative","&:hover>span":{opacity:"1"},"& .MuiAvatar-root":{width:"100%",height:"100%"}},resetPhotoBtn:{opacity:"0",zIndex:"10",width:"100%",height:"100%",backgroundColor:"rgba(255,0,0,0.5)",borderRadius:"50%",position:"absolute",color:"white",display:"flex",justifyContent:"center",alignItems:"center",fontSize:"10px",top:"50%",left:"50%",transform:"translate(-50%,-50%)","&>*":{width:"90%",height:"90%"}},profileImage:{position:"absolute",zIndex:"1",width:"100%",height:"100%",borderRadius:"50%"}}})),L=B,P=a(279),F=a(311),z=a(280),W=a(281),G=Object(d.a)({palette:{primary:y.a}}),H=function(e){var t=e.history,a=Object(n.useState)({firstName:"",lastName:"",email:"",password:"",passwordConfirm:"",photo:""}),o=Object(l.a)(a,2),i=o[0],u=o[1],p=L(),d=Object(A.b)(),y=Object(n.useState)(!1),w=Object(l.a)(y,2),I=w[0],k=w[1],j=Object(A.c)((function(e){return e.loginUser})),_=j.loading,U=j.user,D=j.err,M=j.success;function B(e){return r.a.createElement(x.a,Object.assign({elevation:6,variant:"filled"},e))}var H=function(){var e=Object(C.a)(S.a.mark((function e(t){var a,n,r,o,s;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),t.stopPropagation(),t.target.value){e.next=4;break}return e.abrupt("return");case 4:return u(Object(c.a)(Object(c.a)({},i),{},{photo:""})),a=t.target.files[0],(n=new FormData).append("photo",a),k(!0),e.prev=9,r={headers:{"Content-Type":"multipart/form-data"}},e.next=13,T.a.post("".concat(R,"/api/v1/uploadProfilePhotoRoute"),n,r);case 13:o=e.sent,s=o.data,u(Object(c.a)(Object(c.a)({},i),{},{photo:s.path})),k(!1),e.next=24;break;case 19:e.prev=19,e.t0=e.catch(9),alert("ERROR UPLOADING YOUR IMAGE"),console.log(e.t0),k(!1);case 24:case"end":return e.stop()}}),e,null,[[9,19]])})));return function(t){return e.apply(this,arguments)}}(),Y=function(e){var t=e.target,a=t.name,n=t.value;u(Object(c.a)(Object(c.a)({},i),{},Object(s.a)({},a,n)))};return Object(n.useEffect)((function(){U&&U.token&&t.push("/")}),[d,t,U]),r.a.createElement(r.a.Fragment,null,M?r.a.createElement(b.a,{open:M,autoHideDuration:1e3,anchorOrigin:{horizontal:"center",vertical:"top"}},r.a.createElement(B,{severity:"success"},"Signed up successfully, Please check your inbox for verification email")):"",_?r.a.createElement(b.a,{open:_,autoHideDuration:1e3,anchorOrigin:{horizontal:"center",vertical:"top"}},r.a.createElement(B,{severity:"info"},"Signing up")):"",D?r.a.createElement(b.a,{open:D&&!0,autoHideDuration:1e3,anchorOrigin:{horizontal:"center",vertical:"top"}},r.a.createElement(B,{severity:"error"},D)):"",r.a.createElement("div",{className:p.root},r.a.createElement(m.a,{maxWidth:"xs"},r.a.createElement(g.a,{className:p.lonInTopHeader,style:{textAlign:"center"},variant:"h2"},"Signup",r.a.createElement("div",{className:p.loginLogo},r.a.createElement("img",{src:"images/login/loginLogo.png",alt:"Login Logo"}))),r.a.createElement("form",{className:p.loginFrom,onSubmit:function(e){e.preventDefault(),d(function(e){return function(){var t=Object(C.a)(S.a.mark((function t(a,n){var r,o,i,s,l;return S.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:"SIGNUP_REQUEST"}),r={headers:{"Content-Type":"application/json"}},t.next=5,T.a.post("".concat(N,"/signup"),e,r);case 5:o=t.sent,i=o.data.data,s=i,l=Object(c.a)({},s),a({type:"SIGNUP_SUCCESS",payload:l}),localStorage.setItem("loggedInUser",JSON.stringify(l)),t.next=16;break;case 13:t.prev=13,t.t0=t.catch(0),a({type:"SIGNUP_FAIL",payload:t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message});case 16:case"end":return t.stop()}}),t,null,[[0,13]])})));return function(e,a){return t.apply(this,arguments)}}()}(i))}},r.a.createElement(h.a,{theme:G},r.a.createElement(P.a,{container:!0,spacing:2},r.a.createElement(P.a,{item:!0,sm:9,xs:9},r.a.createElement(f.a,{fullWidth:!0,margin:"normal",variant:"outlined",label:"Name",required:!0,name:"firstName",type:"text",id:"firstName",disabled:_,autoComplete:"first-name",onChange:Y,value:i.firstName,className:p.emailInput,InputProps:{className:p.emailInput,classes:{notchedOutline:p.InputBorder}}})),r.a.createElement(P.a,{item:!0,sm:3,xs:3,className:p.photoContainer},r.a.createElement("input",{type:"file",id:"profile-photo",label:"Choose your image",onChange:H,accept:"image/*",className:p.photoInput}),r.a.createElement("label",{htmlFor:"profile-photo",className:p.inputLabel},r.a.createElement("div",{style:i.photo?{display:"none"}:{},className:p.cameraIconContainer},r.a.createElement(z.a,{style:I?{display:"none"}:{}}),r.a.createElement(v.a,{style:I?{}:{display:"none"},className:p.photoUploading,color:"secondary"})),r.a.createElement("div",{style:i.photo?{}:{display:"none"},className:p.avatarContainer},r.a.createElement("span",{onClick:function(e){u(Object(c.a)(Object(c.a)({},i),{},{photo:""})),e.preventDefault(),e.stopPropagation()},className:p.resetPhotoBtn},r.a.createElement(W.a,null)),r.a.createElement(F.a,{src:i.photo,alt:"user profile",className:p.profileImage}))))),r.a.createElement(f.a,{fullWidth:!0,margin:"normal",variant:"outlined",label:"Email",required:!0,disabled:_,name:"email",type:"email",id:"email",autoComplete:"current-email",onChange:Y,value:i.email,className:p.emailInput,InputProps:{className:p.emailInput,classes:{notchedOutline:p.InputBorder}}}),r.a.createElement(f.a,{fullWidth:!0,margin:"normal",variant:"outlined",label:"Password",required:!0,name:"password",disabled:_,type:"password",id:"password",autoComplete:"current-password",onChange:Y,value:i.password,inputProps:{minLength:8},className:p.passwordInput,InputProps:{className:p.passwordInput,classes:{notchedOutline:p.InputBorder}}}),r.a.createElement(f.a,{fullWidth:!0,margin:"normal",variant:"outlined",label:"Password Confirmation",required:!0,name:"passwordConfirm",disabled:_,type:"password",id:"passwordConfirm",autoComplete:"current-passwordConfirm",onChange:Y,value:i.passwordConfirm,inputProps:{minLength:8},className:p.passwordInput,InputProps:{className:p.passwordInput,classes:{notchedOutline:p.InputBorder}}})),r.a.createElement(E.a,{type:"submit",variant:"contained",color:"primary",className:p.loginBtn,fullWidth:!0,disabled:_,endIcon:_&&r.a.createElement(v.a,{style:{color:"black",width:"20px",height:"20px"}})},"Signup")),r.a.createElement(g.a,{className:p.notSignedUp},"Have an account ?"," ",r.a.createElement(O.b,{className:p.signUpLink,to:"/login"}," ","Login")))))},Y=Object(u.a)((function(e){return{root:{width:"90vw",height:"90vh",background:"white",position:"relative",zIndex:"2",boxShadow:" -2px -2px 10px grey",display:"flex",textAlign:"center",paddingTop:"30px"},emailInput:{fontWeight:"bold","& >.MuiInputLabel-outlined":{fontWeight:"bold"}},passwordInput:{"& >.MuiInputLabel-outlined":{fontWeight:"bold"}},InputBorder:{borderColor:"#019688"},loginBtn:{backgroundColor:"#019688",fontWeight:"bold",marginTop:"25px","&:hover":{backgroundColor:"#008276"}},notSignedUp:{paddingTop:"20px",textAlign:"center",fontWeight:"bold"},signUpLink:{textDecoration:"none",color:"#019688","&:hover":{textDecoration:"underline"}},lonInTopHeader:{display:"inline-flex",margin:"auto",alignItems:"center",justifyContent:"center",fontSize:"30px"},loginLogo:{textAlign:"center",display:"inline-block",width:"75px",height:"75px",margin:"auto","&>img":{width:"100%",height:"100%"}}}})),Q=Y,J=Object(d.a)({palette:{primary:y.a}}),q=function(e){var t=e.history,a=Object(n.useState)(""),o=Object(l.a)(a,2),i=o[0],s=o[1],c=Q(),u=Object(A.b)(),p=Object(A.c)((function(e){return e.loginUser})).user,d=Object(A.c)((function(e){return e.userForgotPassword})),y=d.loading,O=d.success,w=d.err;function R(e){return r.a.createElement(x.a,Object.assign({elevation:6,variant:"filled"},e))}return Object(n.useEffect)((function(){p&&p.token&&t.push("/")}),[u,t,p]),r.a.createElement(r.a.Fragment,null,O?r.a.createElement(b.a,{open:O,autoHideDuration:1e3,anchorOrigin:{horizontal:"center",vertical:"top"}},r.a.createElement(R,{severity:"success"},"Please check you email for resetting password link ",r.a.createElement("br",null),"You can close this window now")):"",y?r.a.createElement(b.a,{open:y,autoHideDuration:1e3,anchorOrigin:{horizontal:"center",vertical:"top"}},r.a.createElement(R,{severity:"info"},"Sending your request")):"",w?r.a.createElement(b.a,{open:w&&!0,autoHideDuration:1e3,anchorOrigin:{horizontal:"center",vertical:"top"}},r.a.createElement(R,{severity:"error"},w)):"",r.a.createElement("div",{className:c.root},r.a.createElement(m.a,{maxWidth:"xs"},r.a.createElement(g.a,{className:c.lonInTopHeader,style:{textAlign:"center"},variant:"h2"},"Enter your email"),r.a.createElement("form",{className:c.loginFrom,onSubmit:function(e){e.preventDefault(),u(function(e){return function(){var t=Object(C.a)(S.a.mark((function t(a,n){var r;return S.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:"FORGOT_PASSWORD_REQUEST"}),r={headers:{"Content-Type":"application/json"}},t.next=5,T.a.post("".concat(N,"/forgotPassword"),{email:e},r);case 5:a({type:"FORGOT_PASSWORD_SUCCESS"}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),a({type:"FORGOT_PASSWORD_FAIL",payload:t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message});case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e,a){return t.apply(this,arguments)}}()}(i))}},r.a.createElement(h.a,{theme:J},r.a.createElement(f.a,{fullWidth:!0,margin:"normal",variant:"outlined",label:"Email",required:!0,name:"email",type:"email",id:"email",disabled:y,autoComplete:"current-email",onChange:function(e){return s(e.target.value)},value:i,className:c.emailInput,InputProps:{className:c.emailInput,classes:{notchedOutline:c.InputBorder}}})),r.a.createElement(E.a,{type:"submit",variant:"contained",color:"primary",className:c.loginBtn,fullWidth:!0,disabled:y,endIcon:y&&r.a.createElement(v.a,{style:{color:"black",width:"20px",height:"20px"}})},"Send")))))},V=Object(u.a)((function(e){return{root:{width:"90vw",height:"90vh",background:"white",position:"relative",zIndex:"2",boxShadow:" -2px -2px 10px grey",display:"flex",textAlign:"center",paddingTop:"30px"},emailInput:{fontWeight:"bold","& >.MuiInputLabel-outlined":{fontWeight:"bold"}},passwordInput:{"& >.MuiInputLabel-outlined":{fontWeight:"bold"}},InputBorder:{borderColor:"#019688"},loginBtn:{backgroundColor:"#019688",fontWeight:"bold",marginTop:"25px","&:hover":{backgroundColor:"#008276"}},notSignedUp:{paddingTop:"20px",textAlign:"center",fontWeight:"bold"},signUpLink:{textDecoration:"none",color:"#019688","&:hover":{textDecoration:"underline"}},lonInTopHeader:{display:"inline-flex",margin:"auto",alignItems:"center",justifyContent:"center",fontSize:"30px"},loginLogo:{textAlign:"center",display:"inline-block",width:"75px",height:"75px",margin:"auto","&>img":{width:"100%",height:"100%"}}}})),X=V,K=Object(d.a)({palette:{primary:y.a}}),$=function(e){var t=e.history,a=e.match.params.token,o=Object(n.useState)({email:"",password:"",passwordConfirm:""}),i=Object(l.a)(o,2),u=i[0],p=i[1],d=X(),y=Object(A.b)(),O=Object(A.c)((function(e){return e.loginUser})).user,w=Object(A.c)((function(e){return e.userResetPassword})),R=w.loading,I=w.success,k=w.err;function j(e){return r.a.createElement(x.a,Object.assign({elevation:6,variant:"filled"},e))}var _=function(e){var t=e.target,a=t.name,n=t.value;p(Object(c.a)(Object(c.a)({},u),{},Object(s.a)({},a,n)))};return Object(n.useEffect)((function(){O&&O.token&&t.push("/")}),[y,t,O]),Object(n.useEffect)((function(){I&&setTimeout((function(){t.push("/login")}),2e3)}),[t,I]),r.a.createElement(r.a.Fragment,null,I?r.a.createElement(b.a,{open:I,autoHideDuration:1e3,anchorOrigin:{horizontal:"center",vertical:"top"}},r.a.createElement(j,{severity:"success"},"Password updated successfully")):"",R?r.a.createElement(b.a,{open:R,autoHideDuration:1e3,anchorOrigin:{horizontal:"center",vertical:"top"}},r.a.createElement(j,{severity:"info"},"Sending Your Request")):"",k?r.a.createElement(b.a,{open:k&&!0,autoHideDuration:1e3,anchorOrigin:{horizontal:"center",vertical:"top"}},r.a.createElement(j,{severity:"error"},k)):"",r.a.createElement("div",{className:d.root},r.a.createElement(m.a,{maxWidth:"xs"},r.a.createElement(g.a,{className:d.lonInTopHeader,style:{textAlign:"center"},variant:"h2"},"Reset your password password"),r.a.createElement("form",{className:d.loginFrom,onSubmit:function(e){e.preventDefault(),y(function(e,t){return function(){var a=Object(C.a)(S.a.mark((function a(n,r){var o;return S.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,n({type:"RESET_PASSWORD_REQUEST"}),o={headers:{"Content-Type":"application/json"}},a.next=5,T.a.post("".concat(N,"/resetPassword/").concat(e),t,o);case 5:n({type:"RESET_PASSWORD_SUCCESS"}),a.next=11;break;case 8:a.prev=8,a.t0=a.catch(0),n({type:"RESET_PASSWORD_FAIL",payload:a.t0.response&&a.t0.response.data.message?a.t0.response.data.message:a.t0.message});case 11:case"end":return a.stop()}}),a,null,[[0,8]])})));return function(e,t){return a.apply(this,arguments)}}()}(a,u))}},r.a.createElement(h.a,{theme:K},r.a.createElement(f.a,{fullWidth:!0,margin:"normal",variant:"outlined",label:"Email",required:!0,name:"email",type:"email",id:"email",disabled:R,autoComplete:"current-email",onChange:_,value:u.email,className:d.emailInput,InputProps:{className:d.emailInput,classes:{notchedOutline:d.InputBorder}}}),r.a.createElement(f.a,{fullWidth:!0,margin:"normal",variant:"outlined",label:"New Password",required:!0,name:"password",type:"password",id:"password",disabled:R,autoComplete:"current-password",onChange:_,value:u.password,inputProps:{minLength:8},className:d.passwordInput,InputProps:{className:d.passwordInput,classes:{notchedOutline:d.InputBorder}}}),r.a.createElement(f.a,{fullWidth:!0,margin:"normal",variant:"outlined",label:"New Password Again",required:!0,name:"passwordConfirm",type:"password",id:"passwordConfirm",disabled:R,autoComplete:"current-password",onChange:_,value:u.passwordConfirm,inputProps:{minLength:8},className:d.passwordInput,InputProps:{className:d.passwordInput,classes:{notchedOutline:d.InputBorder}}})),r.a.createElement(E.a,{type:"submit",variant:"contained",color:"primary",className:d.loginBtn,fullWidth:!0,disabled:R,endIcon:R&&r.a.createElement(v.a,{style:{color:"black",width:"20px",height:"20px"}})},"Send")))))},Z=Object(u.a)((function(e){return{root:{width:"90vw",height:"90vh",background:"white",position:"relative",zIndex:"2",boxShadow:" -2px -2px 10px grey",display:"flex",flexDirection:"column",overflow:"auto"},usersContainer:{width:"100%",padding:"20px 30px",paddingBottom:"0",height:"100%",overflow:"auto",textAlign:"center","&::-webkit-scrollbar":{width:"5px"},"&::-webkit-scrollbar-thumb":{background:"#CCCCCC",borderRadius:"10px"},"&::-webkit-scrollbar-thumb:hover":{background:"#aaa"}},"@media (max-width: 1200px)":{root:{width:"100vw",height:"100vh"}},searchBtn:{float:"left"}}})),ee=Z,te=a(93),ae=a(310),ne=Object(u.a)((function(e){return{root:{padding:"10px 0",width:"100%",height:"59px",display:"flex",alignItems:"center",position:"relative",justifyContent:"space-between",backgroundColor:"#EDEDED",boxShadow:"0 1px 2px #ccc",zIndex:"10"},sidebarIcons:{},userInfoBtnBase:{},userInfo:{display:"flex",alignItems:"center",padding:"10px"},avatarContainer:{marginRight:"10px"},info:{textAlign:"lef",display:"flex",flexDirection:"column",alignItems:"flex-start",justifyContent:"center"},name:{width:"100px",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",fontSize:"100%",fontWeight:"bold",fontFamily:"Noto Sans JP, sans-serif",textAlign:"left",color:"Black"},status:{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",fontFamily:"Noto Sans JP, sans-serif",color:"#626262",fontSize:"90%",textAlign:"left"},search:Object(s.a)({marginRight:"30px",position:"relative",borderRadius:e.shape.borderRadius,backgroundColor:"white",marginLeft:0,width:"100%"},e.breakpoints.up("sm"),{marginLeft:e.spacing(1),width:"auto"}),inputRoot:{color:"inherit",flex:1},inputInput:Object(s.a)({padding:e.spacing(1,1,1,0),paddingLeft:"calc(1em + ".concat(e.spacing(1),"px)"),transition:e.transitions.create("width"),width:"100%"},e.breakpoints.up("sm"),{width:"12ch","&:focus":{width:"20ch"}}),link:{textDecoration:"none"},searchBtn:{},searchForm:{display:"flex"}}})),re=ne,oe=a(282),ie=function(){var e=re(),t=Object(A.b)(),a=Object(n.useState)(""),o=Object(l.a)(a,2),i=o[0],s=o[1],c=Object(A.c)((function(e){return e.loginUser})).user;return r.a.createElement("div",{className:e.root},r.a.createElement(te.a,{className:e.userInfoBtnBase},r.a.createElement(O.b,{className:e.link,to:"/"},r.a.createElement("div",{className:e.userInfo},r.a.createElement("div",{className:e.avatarContainer},r.a.createElement(F.a,{src:c.photo})),r.a.createElement("div",{className:e.info},r.a.createElement("div",{className:e.name},c.fullName),r.a.createElement("div",{className:e.status},"Me"))))),r.a.createElement("div",{className:e.search},r.a.createElement("form",{className:e.searchForm,onSubmit:function(e){e.preventDefault(),i&&t(function(e){return function(){var t=Object(C.a)(S.a.mark((function t(a,n){var r,o,i,s;return S.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:"SEARCH_USERS_REQUEST"}),r="Bearer ".concat(n().loginUser.user.token),o={headers:{authorization:r}},t.next=6,T.a.get("".concat(N,"/searchUsers/").concat(e),o);case 6:i=t.sent,s=i.data.data,a({type:"SEARCH_USERS_SUCCESS",payload:s}),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),a({type:"SEARCH_USERS_FAIL",payload:t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message});case 14:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(e,a){return t.apply(this,arguments)}}()}(i))}},r.a.createElement(ae.a,{placeholder:"Search\u2026",onChange:function(e){return s(e.target.value)},value:i,classes:{root:e.inputRoot,input:e.inputInput},inputProps:{"aria-label":"search"}}),r.a.createElement(E.a,{className:e.searchBtn,disabled:0===i.length,type:"submit"},r.a.createElement(oe.a,null)))))},se=Object(u.a)((function(e){return{root:{margin:"0 auto",fontWeight:"bold",zIndex:"100",width:"100%"}}})),ce=se,le=function(e){var t=e.severity,a=e.message,n=(e.children,e.position),o=void 0===n?"relative":n,i=ce();return r.a.createElement(r.a.Fragment,null,r.a.createElement(x.a,{style:{position:o},className:i.root,severity:t||"info"},a))},ue=a(283),pe=a(284),de=a(286),me=a(285),ge=Object(u.a)((function(e){return{root:{maxWidth:345,margin:"20px",display:"inline-block",width:"300px",position:"relative"},media:{height:140},userPhotoContainer:{width:"100%",padding:"10px",display:"flex",justifyContent:"center",alignItems:"center",borderBottom:"1px solid #ccc"},userPhoto:{width:"200px",height:"200px"},userAbout:{textAlign:"left"}}})),he=function(e){return function(){var t=Object(C.a)(S.a.mark((function t(a,n){var r,o,i,s,c,l;return S.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=n().currentOpenRoom.currentOpenRoomId,o=n().currentOpenRoom.currentOpenRoom,e!==r||!o){t.next=4;break}return t.abrupt("return");case 4:return t.prev=4,i="Bearer ".concat(n().loginUser.user.token),s={headers:{"Content-Type":"application/json",authorization:i}},t.next=9,T.a.get("".concat(I,"/").concat(e),s);case 9:c=t.sent,l=c.data.data,a({type:"CURRENT_OPEN_ROOM_SUCCESS",payload:l}),localStorage.setItem("currentOpenRoomId",e),t.next=18;break;case 15:t.prev=15,t.t0=t.catch(4),a({type:"CURRENT_OPEN_ROOM_REQUEST",payload:t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message});case 18:case"end":return t.stop()}}),t,null,[[4,15]])})));return function(e,a){return t.apply(this,arguments)}}()},fe=function(e){return function(){var t=Object(C.a)(S.a.mark((function t(a){return S.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:try{a({type:"UPDATE_ROOM_PUT_UP",payload:e})}catch(n){a({type:"GET_MY_ROOMS_FAIL",payload:n.response&&n.response.data.message?n.response.data.message:n.message})}case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},Ee=function(e,t){return function(){var a=Object(C.a)(S.a.mark((function a(n,r){var o,i,s,c;return S.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,n({type:"HANDLE_BLOCK_ROOM_REQUEST"}),o="Bearer ".concat(r().loginUser.user.token),i={headers:{"Content-Type":"application/json",authorization:o}},a.next=6,T.a.post("".concat(j),{room:e,otherUser:t},i);case 6:s=a.sent,c=s.data.data,n({type:"HANDLE_BLOCK_ROOM_SUCCESS",payload:c}),a.next=14;break;case 11:a.prev=11,a.t0=a.catch(0),n({type:"HANDLE_BLOCK_ROOM_FAIL",payload:a.t0.response&&a.t0.response.data.message?a.t0.response.data.message:a.t0.message});case 14:case"end":return a.stop()}}),a,null,[[0,11]])})));return function(e,t){return a.apply(this,arguments)}}()},be=function(e,t){return function(){var a=Object(C.a)(S.a.mark((function a(n,r){var o,i,s,c;return S.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,n({type:"HANDLE_UNBLOCK_ROOM_REQUEST"}),o="Bearer ".concat(r().loginUser.user.token),i={headers:{"Content-Type":"application/json",authorization:o}},a.next=6,T.a.post("".concat(j,"/deleteBlock"),{room:e,otherUser:t},i);case 6:s=a.sent,c=s.data.data,n({type:"HANDLE_UNBLOCK_ROOM_SUCCESS",payload:c}),a.next=14;break;case 11:a.prev=11,a.t0=a.catch(0),n({type:"HANDLE_UNBLOCK_ROOM_FAIL",payload:a.t0.response&&a.t0.response.data.message?a.t0.response.data.message:a.t0.message});case 14:case"end":return a.stop()}}),a,null,[[0,11]])})));return function(e,t){return a.apply(this,arguments)}}()},xe=function(e){return function(){var t=Object(C.a)(S.a.mark((function t(a,n){var r,o,i,s,c;return S.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(r=n().currentOpenRoom.currentOpenRoom)||r._id===e){t.next=3;break}return t.abrupt("return");case 3:return t.prev=3,o="Bearer ".concat(n().loginUser.user.token),i={headers:{"Content-Type":"application/json",authorization:o}},t.next=8,T.a.get("".concat(I,"/").concat(e),i);case 8:s=t.sent,c=s.data.data,a({type:"UPDATE_CURRENT_OPEN_ROOM",payload:c}),localStorage.setItem("currentRoom",JSON.stringify(c)),t.next=17;break;case 14:t.prev=14,t.t0=t.catch(3),a({type:"HANDLE_ACCEPT_ROOM_FAIL",payload:t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message});case 17:case"end":return t.stop()}}),t,null,[[3,14]])})));return function(e,a){return t.apply(this,arguments)}}()},ve=function(e){var t=e.user,a=ge(),o=Object(A.b)(),i=Object(n.useState)(!1),s=Object(l.a)(i,2),u=s[0],p=s[1],d=Object(n.useState)({loading:!1,success:!1,err:!1}),m=Object(l.a)(d,2),h=m[0],f=m[1],b=h.loading,x=h.success,v=h.err;return Object(n.useEffect)((function(){(x||v)&&setTimeout((function(){p(!1),o({type:"CREATE_ROOM_RESET"})}),2e3)}),[v,x,o]),r.a.createElement(ue.a,{className:a.root},u?b?r.a.createElement(le,{message:"Adding chat ...",position:"absolute"}):v?r.a.createElement(le,{severity:"error",message:v,position:"absolute"}):x?r.a.createElement(le,{severity:"success",message:"Request Sent to ".concat(t.firstName.split(" ")[0]),position:"absolute"}):null:null,r.a.createElement(pe.a,null,r.a.createElement("div",{className:a.userPhotoContainer},r.a.createElement(F.a,{className:a.userPhoto,src:t.photo,title:t.firstName})),r.a.createElement(me.a,null,r.a.createElement(g.a,{className:a.userName,gutterBottom:!0,variant:"h5",component:"h2"},t.firstName),r.a.createElement(g.a,{className:a.userAbout,variant:"body2",color:"textSecondary",component:"p"},t.about))),r.a.createElement(de.a,null,r.a.createElement(E.a,{onClick:function(){var e;p(!0),o((e=t.email,function(){var t=Object(C.a)(S.a.mark((function t(a,n){var r,o,i;return S.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,f(Object(c.a)(Object(c.a)({},h),{},{loading:!0})),r="Bearer ".concat(n().loginUser.user.token),o={headers:{"Content-Type":"application/json",authorization:r}},t.next=6,T.a.post("".concat(I,"/createNewRoom"),{otherUserEmail:e},o);case 6:f(Object(c.a)(Object(c.a)({},h),{},{loading:!1,success:!0})),t.next=13;break;case 9:t.prev=9,t.t0=t.catch(0),i=t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message,f(Object(c.a)(Object(c.a)({},h),{},{loading:!1,err:i}));case 13:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e,a){return t.apply(this,arguments)}}()))},size:"small",color:"primary"},"Create Chat")))},ye=function(){var e=ee(),t=Object(A.c)((function(e){return e.searchUsers})),a=t.users,n=t.loading,o=t.err,i=t.success;return r.a.createElement("div",{className:e.root},r.a.createElement(ie,null),r.a.createElement("div",{className:e.usersContainer},n?r.a.createElement(le,{message:"Searching users"}):o?r.a.createElement(le,{severity:"error",message:o}):a&&a.length<1?r.a.createElement(le,{message:"No users"}):i?a.map((function(e){return r.a.createElement(ve,{key:e._id,user:e})})):r.a.createElement(le,{message:"Search users by name or email"})))},Oe=function(e){var t=e.history,a=e.match.params.token,o=Object(A.b)(),i=Object(A.c)((function(e){return e.loginUser})).user,s=Object(A.c)((function(e){return e.userVerifyEmail})),l=s.loading,u=void 0===l||l,p=s.success,d=s.err;function m(e){return r.a.createElement(x.a,Object.assign({elevation:6,variant:"filled"},e))}return Object(n.useEffect)((function(){var e,t;i&&i.email&&a&&o((e=a,t=i.email,function(){var a=Object(C.a)(S.a.mark((function a(n){var r,o,i,s,l,u;return S.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,n({type:"VERIFY_USER_REQUEST"}),r={headers:{"Content-Type":"application/json"}},a.next=5,T.a.post("".concat(N,"/verifyEmail/").concat(e),{email:t},r);case 5:o=a.sent,i=o.data,s=i.token,l=i.user,u=Object(c.a)(Object(c.a)({},l),{},{token:s}),n({type:"VERIFY_USER_SUCCESS",payload:u}),localStorage.setItem("loggedInUser",JSON.stringify(u)),a.next=16;break;case 13:a.prev=13,a.t0=a.catch(0),n({type:"VERIFY_USER_FAIL",payload:a.t0.response&&a.t0.response.data.message?a.t0.response.data.message:a.t0.message});case 16:case"end":return a.stop()}}),a,null,[[0,13]])})));return function(e){return a.apply(this,arguments)}}()))}),[o,a,i]),Object(n.useEffect)((function(){i&&i.token&&t.push("/")}),[o,t,i]),Object(n.useEffect)((function(){p&&setTimeout((function(){t.push("/login")}),2e3)}),[t,p]),r.a.createElement(r.a.Fragment,null,p?r.a.createElement(b.a,{open:p,autoHideDuration:1e3,anchorOrigin:{horizontal:"center",vertical:"top"}},r.a.createElement(m,{severity:"success"},"Email Verified Successfully")):"",u?r.a.createElement(b.a,{open:u,autoHideDuration:1e3,anchorOrigin:{horizontal:"center",vertical:"top"}},r.a.createElement(m,{severity:"info"},"Verifying your email")):"",d?r.a.createElement(b.a,{open:d&&!0,autoHideDuration:1e3,anchorOrigin:{horizontal:"center",vertical:"top"}},r.a.createElement(m,{severity:"error"},d)):"")},we=Object(u.a)((function(e){return{root:{width:"90vw",height:"90vh",background:"white",position:"relative",zIndex:"2",boxShadow:" -2px -2px 10px grey",display:"flex"},"@media (max-width: 1200px)":{root:{width:"100vw",height:"100vh"}}}})),Se=Object(u.a)((function(e){return{root:{display:"flex",flexDirection:"column",overflow:"hidden",borderRight:"2px solid #E5E5E6",flex:"0.35",position:"relative"},open:{width:"100%",flex:"1"},closed:{width:"0",flex:"0"}}})),Ce=a(272),Re=a(153),Ne=a(289),Ie=a(288),ke=a(90),je=a.n(ke),_e=Object(u.a)((function(e){return{root:{padding:"10px 0",width:"100%",height:"59px",display:"flex",alignItems:"center",position:"relative",justifyContent:"space-between",backgroundColor:"#EDEDED",zIndex:"10"},text:{fontWeight:"bold",color:"#009688"},addChat:{border:"1px solid #009688",color:"#009688"},sidebarIcons:{"& *":{color:"#696969"}},menuItem:{fontWeight:"bold","& a":{textDecoration:"none",color:"black"}}}})),Te=Object(u.a)((function(e){return{root:{width:"90vw",height:"90vh"},dialogContent:{display:"flex",alignItems:"center",justifyContent:"space-evenly",padding:"30px 0",backgroundColor:"#f1f1f1"},link:{color:"#333333",textDecoration:"none"}}})),Ue=a(309),Ae=a(287),De=a(139),Me=a.n(De),Be=a(106),Le=a.n(Be),Pe=function(e){var t=e.open,a=e.setOpen,n=Te();return r.a.createElement(Ue.a,{fullWidth:!0,maxWidth:"xs",open:t,onClose:function(){a(!1)},"aria-labelledby":"form-dialog-title"},r.a.createElement(Ae.a,{className:n.dialogContent},r.a.createElement(te.a,null,r.a.createElement(O.b,{className:n.link,to:"/addFriend"},r.a.createElement(ue.a,null,r.a.createElement(me.a,null,r.a.createElement(Me.a,{className:n.addFriendIcon}),r.a.createElement(g.a,null,"Add Friend"))))),r.a.createElement(te.a,null,r.a.createElement(ue.a,null,r.a.createElement(me.a,null,r.a.createElement(Le.a,{className:n.addFriendIcon}),r.a.createElement(g.a,null,"Join Group")))),r.a.createElement(te.a,null,r.a.createElement(ue.a,null,r.a.createElement(me.a,null,r.a.createElement(Le.a,{className:n.addFriendIcon}),r.a.createElement(g.a,null,"Create Group"))))))},Fe=function(e){var t=e.setOpenUpdateMe,a=_e(),o=Object(A.b)(),i=Object(n.useState)(!1),s=Object(l.a)(i,2),c=s[0],u=s[1],p=Object(A.c)((function(e){return e.loginUser})).user,d=function(){o((function(e,t){e({type:"LOGOUT_USER"}),e({type:"CURRENT_OPEN_ROOM_RESET3"}),e({type:"CURRENT_USER_DATA_RESET"}),e({type:"GET_MY_ROOMS_RESET"}),e({type:"GET_ROOM_MESSAGES_RESET"}),localStorage.removeItem("loggedInUser"),localStorage.removeItem("currentRoom"),localStorage.removeItem("currentChattingUserData"),localStorage.removeItem("currentOpenRoomId"),t().socket.disconnect()}))},m=r.a.useState(null),g=Object(l.a)(m,2),h=g[0],f=g[1],E=Boolean(h),b=function(){f(null)};return r.a.createElement("div",{className:a.root},r.a.createElement(Ce.a,{onClick:function(){return t(!0)}},r.a.createElement(F.a,{src:"".concat(p.photo)})),r.a.createElement("div",{className:a.sidebarIcons},r.a.createElement(Pe,{open:c,setOpen:u}),r.a.createElement(Ce.a,{onClick:function(){return u(!0)},className:a.addChat},r.a.createElement(Ie.a,null)),r.a.createElement(Ce.a,{"aria-label":"more","aria-controls":"long-menu","aria-haspopup":"true",onClick:function(e){f(e.currentTarget)}},r.a.createElement(je.a,null)),r.a.createElement("div",null,r.a.createElement(Re.a,{id:"long-menu",anchorEl:h,keepMounted:!0,open:E,onClose:b,PaperProps:{style:{maxHeight:216,width:"20ch"}}},r.a.createElement(Ne.a,{onClick:function(){d(),b()},className:a.menuItem},"Logout"),r.a.createElement(Ne.a,{className:a.menuItem},r.a.createElement(O.b,{to:"/contactMe"}," About Us"))))))},ze=Object(u.a)((function(e){return{root:{height:"49px",width:"100%",backgroundColor:"#F6F6F6",padding:"10px",boxShadow:"0 1px 2px #ccc",borderBottom:"1px solid #bbb"},main:{background:"white",width:"100%",height:"100%",borderRadius:"20px",display:"flex",alignItems:"center",overflow:"hidden",padding:"2px 10px"},searchBox:{width:"100%",height:"100%",outline:"0",border:"none"},searchIcon:{color:"#919191",marginRight:"8px",fontSize:"20px"}}})),We=a(91),Ge=a.n(We),He=function(){var e=ze();return r.a.createElement("div",{className:e.root},r.a.createElement("div",{className:e.main},r.a.createElement(Ge.a,{className:e.searchIcon}),r.a.createElement("input",{placeholder:"Search chats...",className:e.searchBox,type:"text"})))},Ye=Object(u.a)((function(e){return{root:{flex:1,overflow:"auto","&::-webkit-scrollbar":{width:"5px"},"&::-webkit-scrollbar-thumb":{background:"#CCCCCC",borderRadius:"10px"},"&::-webkit-scrollbar-thumb:hover":{background:"#aaa"}}}})),Qe=Object(u.a)((function(e){return{btnBase:{padding:0,margin:0,width:"100%",height:"72px"},root:{width:"100%",height:"72px",display:"flex",alignItems:"center",cursor:"pointer",borderBottom:"1px solid #F5F5F5","&:hover":{background:"#F5F5F5"},overflow:"hidden"},avatarContainer:{padding:"0 10px"},info:{flex:1,padding:"15px 10px",display:"flex",flexDirection:"column"},infoTop:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:"7px",width:"100%"},name:{flex:"0.60",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",fontSize:"100%",fontWeight:"bold",fontFamily:"Noto Sans JP, sans-serif",textAlign:"left",height:"100%"},date:{flex:"0.40",fontSize:"12px",color:"#878787",fontWeight:"bold",height:"100%"},lastMsg:{width:"150px",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",fontFamily:"Noto Sans JP, sans-serif",color:"#626262",fontSize:"90%",textAlign:"left"},newChat:{color:"#009688",display:"flex",alignItems:"center"},newChatIcon:{fontSize:"18px",color:"#FF5232"}}})),Je=a(36),qe=a.n(Je),Ve=a(140),Xe=a.n(Ve),Ke=function(e){var t=e.room,a=e.setOpenChatBox,n=e.setOpenSideBar,o=Qe(),i=Object(A.b)();return r.a.createElement(te.a,{disabled:!t.userToShowOnRoom&&!0,onClick:function(){a(!0),n(!1);var e={userId:t.userToShowOnRoom._id};i(U(e,{type:"new"})),i(he(t._id));var r=document.getElementById("new-message-input");r&&r.focus()},className:o.btnBase},r.a.createElement("div",{className:o.root},r.a.createElement("div",{className:o.avatarContainer},r.a.createElement(F.a,{src:t.userToShowOnRoom?t.userToShowOnRoom.photo:"red"})),r.a.createElement("div",{className:o.info},r.a.createElement("div",{className:o.infoTop},r.a.createElement("div",{className:o.name},"".concat(t.userToShowOnRoom?t.userToShowOnRoom.fullName:"Deleted User")),r.a.createElement("div",{className:o.date},qe()(t.lastMessage.createdAt).format("hh:mm A"))),r.a.createElement("div",{className:o.lastMsg},t.new?r.a.createElement("span",{className:o.newChat},r.a.createElement(Xe.a,{className:o.newChatIcon})," New"):r.a.createElement("span",null,t.lastMessage.messageTXT)))))},$e=function(e){var t=e.setOpenChatBox,a=e.setOpenSideBar,o=Ye(),i=Object(A.b)(),s=Object(A.c)((function(e){return e.myRooms})),c=s.loading,l=void 0===c||c,u=s.rooms,p=s.err;return Object(n.useEffect)((function(){i(function(){var e=Object(C.a)(S.a.mark((function e(t,a){var n,r,o,i;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:"GET_MY_ROOMS_REQUEST"}),n="Bearer ".concat(a().loginUser.user.token),r={headers:{authorization:n}},e.next=6,T.a.get("".concat(I,"/getMyRooms"),r);case 6:o=e.sent,i=o.data.data,t({type:"GET_MY_ROOMS_SUCCESS",payload:i}),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),t({type:"GET_MY_ROOMS_FAIL",payload:e.t0.response&&e.t0.response.data.message?e.t0.response.data.message:e.t0.message});case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t,a){return e.apply(this,arguments)}}())}),[i]),r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:o.root},l?r.a.createElement(le,{message:"Loading Chats ..."}):p?r.a.createElement(le,{severity:"error",message:p}):u.length<1?r.a.createElement(le,{message:"You don't have chats yet \ud83d\ude0a"}):u.map((function(e){return r.a.createElement(Ke,{key:e._id,room:e,setOpenChatBox:t,setOpenSideBar:a})}))))},Ze=Object(u.a)((function(e){return{root:{position:"absolute",top:"0",left:"0",width:"100%",height:"100%",zIndex:"200",overflow:"auto",backgroundColor:"#EDEDED","&::-webkit-scrollbar":{width:"5px"},"&::-webkit-scrollbar-thumb":{background:"#CCCCCC",borderRadius:"10px"},"&::-webkit-scrollbar-thumb:hover":{background:"#aaa"}},closed:{left:"-100%"},header:{padding:"10px",paddingBottom:"20px",width:"100%",height:"108px",display:"flex",alignItems:"flex-end",justifyContent:"space-between",position:"relative",backgroundColor:"#00BFA5",zIndex:"10",color:"white",fontSize:"19px"},saveChangesContainer:{position:"relative",display:"flex",justifyContent:"center",alignItems:"center"},saveChanges:{position:"relative",color:"black","& *":{fontSize:"30px"}},savingUpdatingChanges:{position:"absolute"},profilePhotoContainer:{width:"100%",backgroundColor:"#EDEDED",display:"flex",justifyContent:"center",alignItems:"center",padding:"20px"},photoContainer:{display:"flex",justifyContent:"flex-end",alignItems:"center"},photoInput:{display:"none"},inputLabel:{width:"200px",height:"200px",borderRadius:"50%",backgroundColor:"#eee",border:"2px solid #ddd",cursor:"pointer","&>div:hover":{opacity:"1"}},cameraIconContainer:{position:"relative",width:"100%",height:"100%",display:"flex",justifyContent:"center",alignItems:"center",opacity:"0.5","&>*":{width:"70%",height:"70%",position:"absolute"}},avatarContainer:{width:"100%",height:"100%",position:"relative","&:hover>.controllersContainer":{opacity:"1"},"& .MuiAvatar-root":{width:"100%",height:"100%"}},controllersContainer:{width:"100%",height:"100%",display:"flex",flexDirection:"column",position:"absolute",zIndex:"10",overflow:"hidden",borderRadius:"50%",opacity:"0"},resetPhotoBtn:{opacity:"0.3",width:"100%",height:"50%",backgroundColor:"rgba(255,0,0,0.5)",color:"white",display:"flex",justifyContent:"center",alignItems:"center",fontSize:"10px","&:hover":{opacity:"1"},"&>*":{width:"90%",height:"90%"}},uploadNewPhoto:{opacity:"0.3",width:"100%",height:"50%",backgroundColor:"rgba(0,0,255,0.5)",color:"white",display:"flex",justifyContent:"center",cursor:"pointer",alignItems:"center",fontSize:"10px","&:hover":{opacity:"1"},"&>*":{width:"90%",height:"90%"}},profileImage:{position:"absolute",zIndex:"1",width:"100%",height:"100%",borderRadius:"50%"},nameContainer:{width:"100%",backgroundColor:"#ffffff",padding:"10px 15px",paddingBottom:"20px",boxShadow:"0 1px 3px #ccc, 0 -1px 3px #ccc "},yourNameTXT:{color:"#009688"},firstName:{padding:"0 5px"},InputBorder:{colorSecondary:"#019688"},firstNameInput:{fontWeight:"bold","& >.MuiInputLabel-outlined":{fontWeight:"bold"}},aboutContainer:{width:"100%",backgroundColor:"#ffffff",padding:"10px 15px",marginTop:"10px",paddingBottom:"20px",boxShadow:"0 1px 3px #ccc, 0 -1px 3px #ccc "}}})),et=a(290),tt=a(291),at=a(292),nt=function(e){var t=e.open,a=e.setOpenUpdateMe,o=Ze(),i=Object(A.b)(),u=Object(d.a)({palette:{primary:y.a}}),p=Object(A.c)((function(e){return e.loginUser})).user,m=Object(A.c)((function(e){return e.updateMe})),g=m.loading,E=m.success,b=m.err,x=Object(n.useState)({firstName:"",about:"",photo:""}),O=Object(l.a)(x,2),w=O[0],I=O[1],k=Object(n.useState)(!1),j=Object(l.a)(k,2),_=j[0],U=j[1],D=Object(n.useState)(!1),M=Object(l.a)(D,2),B=M[0],L=M[1],P=function(e){var t=e.target,a=t.name,n=t.value;I(Object(c.a)(Object(c.a)({},w),{},Object(s.a)({},a,n)))},G=function(){var e=Object(C.a)(S.a.mark((function e(t){var a,n,r,o,i;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),t.stopPropagation(),t.target.value){e.next=4;break}return e.abrupt("return");case 4:return I(Object(c.a)(Object(c.a)({},w),{},{photo:""})),a=t.target.files[0],(n=new FormData).append("photo",a),U(!0),e.prev=9,r={headers:{"Content-Type":"multipart/form-data"}},e.next=13,T.a.post("".concat(R,"/api/v1/uploadProfilePhotoRoute"),n,r);case 13:o=e.sent,i=o.data,I(Object(c.a)(Object(c.a)({},w),{},{photo:i.path})),U(!1),e.next=24;break;case 19:e.prev=19,e.t0=e.catch(9),alert("ERROR UPLOADING YOUR IMAGE"),console.log(e.t0),U(!1);case 24:case"end":return e.stop()}}),e,null,[[9,19]])})));return function(t){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){I(p)}),[p]),Object(n.useEffect)((function(){w.firstName.trim()!==p.firstName.trim()||w.about.trim()!==p.about.trim()||w.photo!==p.photo?L(!0):L(!1)}),[w]),Object(n.useEffect)((function(){E&&(i({type:"UPDATE_USER_RESET"}),a(!1))}),[i,E]),r.a.createElement("div",{className:o.root+" "+(t?"":o.closed)},b&&r.a.createElement(le,{severity:"error",message:b}),r.a.createElement("div",{className:o.header},r.a.createElement("div",null,r.a.createElement(Ce.a,{style:{color:"white"},onClick:function(){return a(!1)}},r.a.createElement(et.a,null))," ","Profile"),r.a.createElement("div",{className:o.saveChangesContainer},g&&r.a.createElement(v.a,{className:o.savingUpdatingChanges,color:"secondary"}),r.a.createElement(Ce.a,{disabled:!B||g,title:"Save changes",className:o.saveChanges,onClick:function(){i(function(e){return function(){var t=Object(C.a)(S.a.mark((function t(a,n){var r,o,i,s,c;return S.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:"UPDATE_USER_REQUEST"}),r="Bearer ".concat(n().loginUser.user.token),o={headers:{"Content-Type":"application/json",authorization:r}},t.next=6,T.a.patch("".concat(N,"/updateMe"),e,o);case 6:i=t.sent,s=i.data.data,a({type:"UPDATE_USER_SUCCESS",payload:s}),c=n().loginUser.user,localStorage.setItem("loggedInUser",JSON.stringify(c)),t.next=16;break;case 13:t.prev=13,t.t0=t.catch(0),a({type:"UPDATE_USER_FAIL",payload:t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message});case 16:case"end":return t.stop()}}),t,null,[[0,13]])})));return function(e,a){return t.apply(this,arguments)}}()}(w))}},r.a.createElement(tt.a,null)))),r.a.createElement("div",{className:o.content},r.a.createElement("section",{className:o.profilePhotoContainer},r.a.createElement("input",{type:"file",id:"profile-photo",label:"Choose your image",onChange:G,accept:"image/*",className:o.photoInput}),r.a.createElement("label",{htmlFor:"profile-photo",className:o.inputLabel},r.a.createElement("div",{style:w.photo?{display:"none"}:{},className:o.cameraIconContainer},r.a.createElement(z.a,{style:_?{display:"none"}:{}}),r.a.createElement(v.a,{style:_?{}:{display:"none"},className:o.photoUploading,color:"secondary"})),r.a.createElement("div",{style:w.photo?{}:{display:"none"},className:o.avatarContainer},r.a.createElement("div",{className:o.controllersContainer+" controllersContainer"},r.a.createElement("label",{htmlFor:"profile-photo",title:"Upload new photo",className:o.uploadNewPhoto},r.a.createElement(at.a,null)),r.a.createElement("span",{title:"Remove this photo",onClick:function(e){I(Object(c.a)(Object(c.a)({},w),{},{photo:""})),e.preventDefault(),e.stopPropagation()},className:o.resetPhotoBtn},r.a.createElement(W.a,null))),r.a.createElement(F.a,{src:w.photo,alt:"user profile",className:o.profileImage})))),r.a.createElement("section",{className:o.nameContainer},r.a.createElement("header",{className:o.yourNameTXT},"Your Name"),r.a.createElement(h.a,{theme:u},r.a.createElement(f.a,{fullWidth:!0,margin:"normal",variant:"standard",label:"Name",required:!0,name:"firstName",type:"text",id:"firstName",autoComplete:"first-name",onChange:P,value:w.firstName,className:o.firstName,InputProps:{className:o.firstNameInput,classes:{}}}))),r.a.createElement("section",{className:o.aboutContainer},r.a.createElement("header",{className:o.yourNameTXT},"About"),r.a.createElement(h.a,{theme:u},r.a.createElement(f.a,{fullWidth:!0,margin:"normal",variant:"standard",label:"About",required:!0,name:"about",type:"text",id:"about",autoComplete:"about",onChange:P,value:w.about,className:o.firstName,InputProps:{className:o.firstNameInput,classes:{}}})))))},rt=function(e){var t=e.open,a=e.smallScreen,o=e.setOpenChatBox,i=e.setOpenSideBar,s=Se(),c=Object(n.useState)(!1),u=Object(l.a)(c,2),p=u[0],d=u[1];return r.a.createElement("div",{className:s.root+" "+(a?t?s.open:s.closed:"")},r.a.createElement(Fe,{setOpenUpdateMe:d}),r.a.createElement(He,null),r.a.createElement($e,{setOpenChatBox:o,setOpenSideBar:i}),r.a.createElement(nt,{setOpenUpdateMe:d,open:p}))},ot=Object(u.a)((function(e){return{root:{background:"#F8F9FA",height:"100%",overflow:"hidden",flex:"0.65"},closed:{flex:0,width:0},open:{width:"100%",flex:"1"}}})),it=Object(u.a)((function(e){return{root:{width:"100%",height:"100%",backgroundColor:"#F8F9FA",borderBottom:"10px solid #4ADF83",display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column"},mainLogo:{width:"250px",height:"250px"},mainText:{marginTop:"28px",fontSize:"32px",color:"#525252",fontWeight:"300",fontFamily:"Noto Sans JP, sans-serif",textAlign:"center",padding:"0 20px"},subTitle:{fontSize:"14px",color:"#888989",fontFamily:"Noto Sans JP, sans-serif",textAlign:"center",lineHeight:"20px",marginTop:"25px",padding:"0 50px"},contactMe:{marginTop:"20px",fontSize:"20px",color:"#525252",fontWeight:"300",fontFamily:"Noto Sans JP, sans-serif",textAlign:"center",padding:"0 20px","&>a":{color:"#009688",fontWeight:"bold"}}}})),st=function(){var e=it();return r.a.createElement("div",{className:e.root},r.a.createElement("img",{className:e.mainLogo,src:"/images/other/noChatImg.jpg",alt:"main logo"}),r.a.createElement("h1",{className:e.mainText},"Welcome to WhatsApp Clone"),r.a.createElement("div",{className:e.subTitle},"This is a testing WhatsApp version, not for profiting purposes. ",r.a.createElement("br",null)),r.a.createElement("h1",{className:e.contactMe},"Fully programmed by Amr Mohammed Hassan"," ",r.a.createElement(O.b,{to:"/contactMe"},"Contact Me")))},ct=Object(u.a)((function(e){return{root:{display:"flex",height:"100%",flexDirection:"column",backgroundColor:"#E5DDD5",position:"relative"},bgObjects:{backgroundImage:'url("./images/other/chat_default_background.png")',backgroundSize:"contain",backgroundColor:"#E5DDD5",backgroundPosition:"fixed",position:"absolute",zIndex:"0",top:"0",left:"0",width:"100%",height:"100%",opacity:"0.1"},acceptChat:{width:"100%",textAlign:"center",padding:"10px 15px","&>button":{fontWeight:"bold"}}}})),lt=a(293),ut=a(294),pt=a(295),dt=Object(u.a)((function(e){return{root:{padding:"10px 0",width:"100%",height:"59px",display:"flex",alignItems:"center",position:"relative",justifyContent:"space-between",backgroundColor:"#EDEDED",boxShadow:"0 1px 2px #ccc",zIndex:"10"},sidebarIcons:{},userInfoBtnBase:{},userInfo:{display:"flex",alignItems:"center",padding:"10px"},avatarContainer:{marginRight:"10px"},info:{textAlign:"lef",display:"flex",flexDirection:"column",alignItems:"flex-start",justifyContent:"center"},name:{width:"100px",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",fontSize:"100%",fontWeight:"bold",fontFamily:"Noto Sans JP, sans-serif",textAlign:"left"},status:{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",fontFamily:"Noto Sans JP, sans-serif",color:"#626262",fontSize:"90%",textAlign:"left"},"@media (min-width: 600px)":{openSideBar:{display:"none"}}}})),mt=function(e){var t=e.currentOpenRoom,a=e.setOpenUserInfo,o=e.setOpenSideBar,i=e.setOpenChatBox,s=dt(),c=Object(A.b)(),u=Object(n.useState)(!1),p=Object(l.a)(u,2),d=p[0],m=p[1],g=Object(A.c)((function(e){return e.currentChattingUserData})),h=g.status,f=function(){m(!1)},b=function(){var e;c((e=t._id,function(){var t=Object(C.a)(S.a.mark((function t(a,n){var r,o,i,s;return S.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:"DELETE_ROOM_REQUEST"}),r="Bearer ".concat(n().loginUser.user.token),o={headers:{"Content-Type":"application/json",authorization:r}},t.next=6,T.a.delete("".concat(I,"/").concat(e),o);case 6:i=t.sent,s=i.data.data,a({type:"DELETE_ROOM_SUCCESS",payload:s}),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),a({type:"DELETE_ROOM_FAIL",payload:t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message});case 14:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(e,a){return t.apply(this,arguments)}}()))},x=function(){c(Ee(t._id,t.userToShowOnRoom._id)),N()},v=r.a.useState(null),y=Object(l.a)(v,2),O=y[0],w=y[1],R=Boolean(O),N=function(){w(null)};return Object(n.useEffect)((function(){c(U({userId:g._id},{type:"new",force:!0}))}),[c]),r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:s.root},r.a.createElement("div",null,r.a.createElement(Ce.a,{className:s.openSideBar,size:"small",onClick:function(){o(!0),i(!1)}},r.a.createElement(et.a,null)),r.a.createElement(te.a,{onClick:function(){return a(!0)},className:s.userInfoBtnBase},r.a.createElement("div",{className:s.userInfo},r.a.createElement("div",{className:s.avatarContainer},r.a.createElement(F.a,{src:g.photo})),r.a.createElement("div",{className:s.info},r.a.createElement("div",{className:s.name},g.fullName),r.a.createElement("div",{className:s.status},h&&"startTyping"===h?"Typing ...":"online"===h?"Online":"offline"===h?function(){var e=new Date(g.lastSeenAt),t=qe()(g.lastSeenAt).format("hh:mm A"),a={day:e.getDate(),month:e.getMonth(),year:e.getFullYear()},n=new Date(Date.now()),r={day:n.getDate(),month:n.getMonth(),year:n.getFullYear()},o=(new Date(n-e)-new Date("1970-01-01"))/1e3/60/60/24;return"Seen ".concat(function(e,t,a){if(e.day===t.day&&e.month===t.month&&e.year===t.year)return"Today";if((0===(n=e.day)?6:n-1)===t.day&&e.month===t.month&&e.year===t.year)return"Yesterday";if(o<=7&&o>0){return["Sun","Mon","Tue","Wed","Thu","Fri","Sat"][a.getDay()]}return o<0?"The custom date is in the future":qe()(a).format("YYYY-MM-DD");var n}(r,a,e)," At ").concat(t)}():"stopTyping"===h?"Online":""))))),r.a.createElement("div",{className:s.sidebarIcons},r.a.createElement(Ce.a,null,r.a.createElement(Ge.a,null)),r.a.createElement(Ce.a,{onClick:function(e){w(e.currentTarget)}},r.a.createElement(je.a,null)),r.a.createElement("div",null,r.a.createElement(Re.a,{id:"long-menu",anchorEl:O,keepMounted:!0,open:R,onClose:N,PaperProps:{style:{maxHeight:216,width:"20ch"}}},r.a.createElement(Ne.a,{onClick:function(){m(!0),N()},className:s.menuItem},"Delete Chat"),r.a.createElement(Ne.a,{onClick:t.myBlock?function(){c(be(t._id,t.userToShowOnRoom._id)),N()}:x,className:s.menuItem},t.myBlock?"Unblock":"Block"))),r.a.createElement(Ue.a,{open:d,keepMounted:!0,onClose:f,"aria-labelledby":"alert-dialog-slide-title","aria-describedby":"alert-dialog-slide-description"},r.a.createElement(lt.a,{id:"alert-dialog-slide-title"},"Delete Chat with ",t.userToShowOnRoom.fullName),r.a.createElement(Ae.a,null,r.a.createElement(ut.a,{id:"alert-dialog-slide-description"},"Are you sure you want to deleted this chat.",r.a.createElement("span",{style:t.myBlock?{display:"none"}:{}},r.a.createElement(E.a,{onClick:function(){x(),f()},variant:"text",color:"secondary"},"Block"),"Instead?"))),r.a.createElement(pt.a,null,r.a.createElement(E.a,{onClick:f,color:"primary"},"No"),r.a.createElement(E.a,{onClick:function(){b(),f()},color:"secondary"},"Yes"))))))},gt=Object(u.a)((function(e){return{root:{flex:1,overflow:"auto","&::-webkit-scrollbar":{width:"5px"},"&::-webkit-scrollbar-thumb":{background:"#CCCCCC",borderRadius:"10px"},"&::-webkit-scrollbar-thumb:hover":{background:"#aaa"},position:"relative",zIndex:10,scrollBehavior:"smooth"},earlierMessagesBtn:{position:"absolute",right:"10px",bottom:"70px",zIndex:"10",backgroundColor:"white",borderRadius:"50%",boxShadow:"0 1px 1px 0 rgba(0,0,0,.06),0 2px 5px 0 rgba(0,0,0,.2);"}}})),ht={root:{width:"100%",padding:"10px 8%",position:"relative","&>div":{maxWidth:"90%"}},otherMessage:{background:"white",padding:"6px 7px 8px 9px",display:"inline-block",borderRadius:"0 10px 10px 10px ",position:"relative",boxShadow:"0 1px .5px rgba(0, 0, 0,.13)"},otherMessageText:{padding:"15px 0",overflowWrap:" break-word"},otherMessageDate:{textAlign:"right",fontSize:"11px",color:"#8C8C8C"},myMessage:{background:"#DCF8C6",padding:"6px 7px 8px 9px",display:"inline-block",borderRadius:"10px 0 10px 10px ",position:"relative",boxShadow:"0 1px .5px rgba(0, 0, 0,.13)"},myMessageText:{padding:"15px 0",overflowWrap:" break-word"},myMessageDate:{textAlign:"right",fontSize:"11px",color:"#8C8C8C"},msgStatus:{paddingLeft:"5px","& > img":{width:"15px",height:"auto"}},adminMessage:{display:"inline-block",backgroundColor:"#E3F6FE",boxShadow:"0 1px .5px rgba(0, 0,0,.13)",padding:"10px 12px",borderRadius:"10px",textTransform:"uppercase",color:"#1D1E1F",fontSize:"12.5px",fontFamily:"'Roboto Condensed', sans-serif ",fontWeight:"bold",userSelect:"none"}},ft=Object(u.a)((function(e){return ht})),Et=function(e){var t=e.status;return r.a.createElement("span",null,"delivered"===t&&r.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 15",width:"16",height:"15"},r.a.createElement("path",{fill:"currentColor",d:"M15.01 3.316l-.478-.372a.365.365 0 0 0-.51.063L8.666 9.879a.32.32 0 0 1-.484.033l-.358-.325a.319.319 0 0 0-.484.032l-.378.483a.418.418 0 0 0 .036.541l1.32 1.266c.143.14.361.125.484-.033l6.272-8.048a.366.366 0 0 0-.064-.512zm-4.1 0l-.478-.372a.365.365 0 0 0-.51.063L4.566 9.879a.32.32 0 0 1-.484.033L1.891 7.769a.366.366 0 0 0-.515.006l-.423.433a.364.364 0 0 0 .006.514l3.258 3.185c.143.14.361.125.484-.033l6.272-8.048a.365.365 0 0 0-.063-.51z"})),"sent"===t&&r.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 15",width:"16",height:"15"},r.a.createElement("path",{fill:"currentColor",d:"M10.91 3.316l-.478-.372a.365.365 0 0 0-.51.063L4.566 9.879a.32.32 0 0 1-.484.033L1.891 7.769a.366.366 0 0 0-.515.006l-.423.433a.364.364 0 0 0 .006.514l3.258 3.185c.143.14.361.125.484-.033l6.272-8.048a.365.365 0 0 0-.063-.51z"})),"seen"===t&&r.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 15",width:"16",height:"15",color:"#4FC3F7"},r.a.createElement("path",{fill:"currentColor",d:"M15.01 3.316l-.478-.372a.365.365 0 0 0-.51.063L8.666 9.879a.32.32 0 0 1-.484.033l-.358-.325a.319.319 0 0 0-.484.032l-.378.483a.418.418 0 0 0 .036.541l1.32 1.266c.143.14.361.125.484-.033l6.272-8.048a.366.366 0 0 0-.064-.512zm-4.1 0l-.478-.372a.365.365 0 0 0-.51.063L4.566 9.879a.32.32 0 0 1-.484.033L1.891 7.769a.366.366 0 0 0-.515.006l-.423.433a.364.364 0 0 0 .006.514l3.258 3.185c.143.14.361.125.484-.033l6.272-8.048a.365.365 0 0 0-.063-.51z"})),"written"===t&&r.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 15",width:"16",height:"15"},r.a.createElement("path",{fill:"currentColor",d:"M9.75 7.713H8.244V5.359a.5.5 0 0 0-.5-.5H7.65a.5.5 0 0 0-.5.5v2.947a.5.5 0 0 0 .5.5h.094l.003-.001.003.002h2a.5.5 0 0 0 .5-.5v-.094a.5.5 0 0 0-.5-.5zm0-5.263h-3.5c-1.82 0-3.3 1.48-3.3 3.3v3.5c0 1.82 1.48 3.3 3.3 3.3h3.5c1.82 0 3.3-1.48 3.3-3.3v-3.5c0-1.82-1.48-3.3-3.3-3.3zm2 6.8a2 2 0 0 1-2 2h-3.5a2 2 0 0 1-2-2v-3.5a2 2 0 0 1 2-2h3.5a2 2 0 0 1 2 2v3.5z"})))},bt=function(e){var t=e.message,a=e.sender,o=ft(),i=Object(n.useState)(""),s=Object(l.a)(i,2),c=s[0],u=s[1];return Object(n.useEffect)((function(){u(t.createdAt)}),[t.createdAt]),r.a.createElement("div",{className:o.root,style:"other"===a?{textAlign:"left"}:"admin"===a?{textAlign:"center"}:{textAlign:"right"}},"other"===a&&r.a.createElement("div",{className:o.otherMessage+" otherMessage"},r.a.createElement("div",{className:o.otherMessageText},t.messageTXT),r.a.createElement("div",{className:o.otherMessageDate},qe()(c).format("hh:mm A"))),"me"===a&&r.a.createElement("div",{className:o.myMessage+" myMessage"},r.a.createElement("div",{className:o.myMessageText},t.messageTXT),r.a.createElement("div",{className:o.myMessageDate},qe()(c).format("hh:mm A"),r.a.createElement("span",{className:o.msgStatus},r.a.createElement(Et,{status:t.status})))),"admin"===a&&r.a.createElement("div",{className:o.adminMessage+" adminMessage"},r.a.createElement("div",{className:o.adminMessageText},t.messageTXT)))},xt={root:{width:"100%",padding:"10px 8%",position:"relative","&>div":{maxWidth:"90%"}},otherMessage:{background:"white",padding:"6px 7px 8px 9px",display:"inline-block",borderRadius:"0 10px 10px 10px ",position:"relative",boxShadow:"0 1px .5px rgba(0, 0, 0,.13)",width:"300px"},otherMessageText:{padding:"15px 0",overflowWrap:" break-word"},otherMessageDate:{textAlign:"right",fontSize:"11px",color:"#8C8C8C"},myMessage:{background:"#DCF8C6",padding:"6px 7px 8px 9px",display:"inline-block",borderRadius:"10px 0 10px 10px ",position:"relative",boxShadow:"0 1px .5px rgba(0, 0, 0,.13)",width:"300px"},myMessageText:{padding:"15px 0",overflowWrap:" break-word"},myMessageDate:{textAlign:"right",fontSize:"11px",color:"#8C8C8C"},msgStatus:{paddingLeft:"5px","& > img":{width:"15px",height:"auto"}},adminMessage:{display:"inline-block",backgroundColor:"#E3F6FE",boxShadow:"0 1px .5px rgba(0, 0,0,.13)",padding:"10px 12px",borderRadius:"10px",textTransform:"uppercase",color:"#1D1E1F",fontSize:"12.5px",fontFamily:"'Roboto Condensed', sans-serif ",fontWeight:"bold",userSelect:"none"}},vt=Object(u.a)((function(e){return xt})),yt={root:{width:"100%",padding:"10px 8%",position:"relative","&>div":{maxWidth:"90%"}},controls:{},playStopContainer:{},slider:{width:"100%"}},Ot=Object(u.a)((function(e){return yt})),wt=a(142),St=a.n(wt),Ct=a(141),Rt=a.n(Ct),Nt=function(e){var t=e.mediaLink,a=Ot(),o=Object(n.useState)(new Audio(t)),i=Object(l.a)(o,1)[0],s=Object(n.useState)(!1),u=Object(l.a)(s,2),p=u[0],d=u[1],m=Object(n.useState)({max:100,value:0}),g=Object(l.a)(m,2),h=g[0],f=g[1],E=function(){var e=Object(C.a)(S.a.mark((function e(){return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.play();case 2:i.currentTime===i.duration&&(i.currentTime=0);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),b=function(e){var t=e.target.value/100;i.currentTime=t};return Object(n.useEffect)((function(){i.preload="metadata",i.addEventListener("play",(function(){return d(!0)})),i.addEventListener("pause",(function(){return d(!1)})),i.addEventListener("timeupdate",(function(){f(Object(c.a)(Object(c.a)({},h),{},{max:Math.round(100*i.duration),value:Math.round(100*i.currentTime)}))})),i.addEventListener("loadedmetadata",Object(C.a)(S.a.mark((function e(){return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i.currentTime=10,f(Object(c.a)(Object(c.a)({},h),{},{value:Math.round(100*i.currentTime)}));case 2:case"end":return e.stop()}}),e)}))))}),[]),r.a.createElement("div",{className:a.root},r.a.createElement("div",{className:a.controls},r.a.createElement("div",{className:a.playStopContainer},p?r.a.createElement("div",{onClick:function(){i.pause()},className:a.pause},r.a.createElement(Rt.a,null)):r.a.createElement("div",{onClick:E,className:a.play},r.a.createElement(St.a,null)),r.a.createElement("input",{type:"range",min:"0",max:h.max,value:h.value,onInput:b,onChange:b,className:a.slider,id:"myRange"}))))},It=function(e){var t=e.message,a=e.sender,o=e.mediaLink,i=vt(),s=Object(n.useState)(""),c=Object(l.a)(s,2),u=c[0],p=c[1];return Object(n.useEffect)((function(){p(t.createdAt)}),[t.createdAt]),r.a.createElement("div",{className:i.root,style:"other"===a?{textAlign:"left"}:"admin"===a?{textAlign:"center"}:{textAlign:"right"}},"other"===a&&r.a.createElement("div",{className:i.otherMessage+" otherMessage"},r.a.createElement(Nt,{mediaLink:o}),r.a.createElement("div",{className:i.bottom},r.a.createElement("div",{className:i.otherMessageDate},qe()(u).format("hh:mm A")))),"me"===a&&r.a.createElement("div",{className:i.myMessage+" myMessage"},r.a.createElement(Nt,{mediaLink:o}),r.a.createElement("div",{className:i.bottom},r.a.createElement("div",{className:i.myMessageDate},qe()(u).format("hh:mm A"),r.a.createElement("span",{className:i.msgStatus},r.a.createElement(Et,{status:t.status}))))))},kt=a(143),jt=a.n(kt),_t=Object(u.a)((function(e){return{root:{flex:1}}})),Tt=function(e){var t=e.message,a=e.severity,n=e.children,o=_t();return r.a.createElement("div",{className:o.root},r.a.createElement(le,{message:t,severity:a}),n)},Ut=Object(u.a)((function(e){return{root:{width:"100%",padding:"10px 8%",position:"relative","&>div":{maxWidth:"90%"}},otherMessage:{background:"white",padding:"12px 15px",display:"inline-block",borderRadius:"0 10px 10px 10px ",position:"relative",boxShadow:"0 1px .5px rgba(0, 0, 0,.13)"},otherMessageText:{overflowWrap:" break-word"},typingDot:{display:"inline-block",width:"10px",height:"10px",backgroundColor:"#ccc",marginRight:"5px",borderRadius:"50%",animation:"animateTypingDots 0.75s linear infinite","&:nth-child(1)":{animationDelay:"0"},"&:nth-child(2)":{animationDelay:"0.1s"},"&:nth-child(3)":{animationDelay:"0.2s",paddingRight:"0"}}}})),At=function(){var e=Ut();return r.a.createElement("div",{className:e.root,style:{textAlign:"left"}},r.a.createElement("div",{className:e.otherMessage+" otherMessage"},r.a.createElement("div",{className:e.otherMessageText},r.a.createElement("span",{className:e.typingDot}),r.a.createElement("span",{className:e.typingDot}),r.a.createElement("span",{className:e.typingDot}))))},Dt=function(e){var t=e.user,a=gt(),o=Object(A.c)((function(e){return e.roomMessages})),i=o.loading,s=void 0===i||i,c=o.messages,l=void 0===c?[]:c,u=o.err,p=Object(A.c)((function(e){return e.currentChattingUserData})).status,d=function(){document.getElementById("messages-container").scrollTo(0,document.getElementById("messages-container").scrollHeight)};return Object(n.useEffect)((function(){var e=document.getElementById("messages-container");(0===e.scrollTop||e.scrollHeight-(e.scrollTop+e.clientHeight)<300)&&d(),(0===e.scrollTop||e.scrollHeight-(e.scrollTop+e.clientHeight)<300)&&"startTyping"===p&&d()}),[l.length,p]),Object(n.useEffect)((function(){var e=document.getElementById("messages-container"),t=document.getElementById("down-arrow");e.onscroll=function(){e.scrollHeight-(e.scrollTop+e.clientHeight)<300?t.style.display="none":t.style.display="inline-flex"}}),[]),r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{id:"messages-container",className:a.root},s?r.a.createElement(Tt,{message:"Getting messages ..."}):u?r.a.createElement(Tt,{severity:"error",message:u}):r.a.createElement(r.a.Fragment,null,r.a.createElement(bt,{key:"startingMessage",message:{messageTXT:"Messages are stored in secure server \ud83d\udd10"},sender:"admin"}),l.map((function(e){return"text"===e.messageType?r.a.createElement(bt,{key:e.clientId,message:e,sender:e.sender!==t._id&&e.sender?"admin"===e.sender?"admin":"other":"me"}):r.a.createElement(It,{key:e.clientId,message:e,sender:e.sender!==t._id&&e.sender?"other":"me",mediaLink:e.mediaLink})})),p&&"startTyping"===p&&r.a.createElement(At,null))),r.a.createElement("div",{className:a.earlierMessagesBtn},r.a.createElement(Ce.a,{onClick:d,style:{width:"40px",height:"40px",display:"none"},id:"down-arrow"},r.a.createElement(jt.a,{style:{fontSize:"25px"}}))))},Mt=a(296),Bt=a(297),Lt=a(298),Pt=Object(u.a)((function(e){return{root:{width:"100%",minHeight:"62px",backgroundColor:"#F0F0F0",position:"relative",zIndex:"10",display:"flex",alignItems:"center"},msgBox:{flex:1,height:"100%",padding:"10px 20px",paddingRight:"0"},msgInput:{width:"100%",height:"100%",outline:"none",border:"none",padding:"10px 15px",borderRadius:"20px",fontSize:"15px",color:"#4A4A4A",fontFamily:"'Roboto', sans-serif",fontWeight:"bold",maxHeight:"200px",resize:"none",overflow:"hidden",userSelect:"none",backgroundColor:"white"},send:{color:"#9B9B9B"},recordingContainer:{padding:"0 5px",display:"flex",alignItems:"center"},cancelRecording:{border:"2px solid #E75E5A",color:"#E75E5A","&:hover":{backgroundColor:"#E75E5A",color:"white"}},sendRecord:{border:"2px solid #37D87E",color:"#37D87E","&:hover":{backgroundColor:"#37D87E",color:"white"}},recordTimeContainer:{margin:"0 8px",display:"flex",alignItems:"center"},recordingRedDot:{width:"15px",height:"15px",backgroundColor:"#E75E5A",borderRadius:"50%",display:"inline-block",marginRight:"5px",animation:"$animateRedDot 1s infinite "},"@keyframes animateRedDot":{"0%, 100%":{backgroundColor:"transparent"},"50%":{backgroundColor:"#E75E5A"}}}})),Ft=function(e){return function(){var t=Object(C.a)(S.a.mark((function t(a,n){var r,o,i,s;return S.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:"CREATE_MESSAGE_REQUEST"}),r="Bearer ".concat(n().loginUser.user.token),o={headers:{"Content-Type":"application/json",authorization:r}},t.next=6,T.a.post("".concat(k,"/createMessage"),e,o);case 6:i=t.sent,s=i.data.data,a({type:"CREATE_MESSAGE_SUCCESS",payload:s}),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),a({type:"CREATE_MESSAGE_FAIL",payload:t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message});case 14:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(e,a){return t.apply(this,arguments)}}()},zt=function(e){return function(){var t=Object(C.a)(S.a.mark((function t(a,n){var r,o,i,s,c,l,u,p;return S.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r=n().currentOpenRoom.currentOpenRoomId,o=n().loginUser.user._id,i=e.sender,s=e.room,c=e._id,l=!i&&!c,u=i===o,p=i!==o,r===s&&a({type:"UPDATE_DISPLAYED_MESSAGES",payload:{message:e,addMyMessage:l,updateMyMessage:u,addOtherMessage:p}});case 9:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}()},Wt=a(307),Gt=a(144),Ht=function e(){var t=this;Object(Gt.a)(this,e),this.getAudioStream=Object(C.a)(S.a.mark((function e(){var a;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,navigator.mediaDevices.getUserMedia({audio:!0,video:!1});case 3:return a=e.sent,t.stream=a,e.abrupt("return",a);case 8:return e.prev=8,e.t0=e.catch(0),e.abrupt("return",e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])}))),this.mediaRecorder=function(){var e=Object(C.a)(S.a.mark((function e(a){var n;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=new MediaRecorder(a)).start(),t.recorder=n,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.startRec=function(){var e=[];t.recorder.addEventListener("dataavailable",function(){var t=Object(C.a)(S.a.mark((function t(a){return S.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.push(a.data);case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),t.recorder.addEventListener("stop",function(){var a=Object(C.a)(S.a.mark((function a(n){var r,o;return S.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:r=new Blob(e,{type:"audio/mpeg-3"}),(o=new FormData).append("record",r,"recordName.mp3"),t.blob=r,t.formData=o,t.audio_url=URL.createObjectURL(t.blob);case 6:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}())},this.stopRec=Object(C.a)(S.a.mark((function e(){return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.recorder.stop(),e.next=3,new Promise((function(e){setTimeout((function(){e()}),5)}));case 3:case"end":return e.stop()}}),e)})))},Yt=function(e){var t=e.currentOpenRoom,a=e.user,o=Pt(),i=Object(A.b)(),s=Object(n.useState)(""),c=Object(l.a)(s,2),u=c[0],p=c[1],d=Object(n.useState)(!1),m=Object(l.a)(d,2),g=m[0],h=m[1],f=Object(n.useState)(!1),E=Object(l.a)(f,2),b=E[0],x=E[1],v=Object(n.useState)(new Ht),y=Object(l.a)(v,1)[0],O=Object(n.useState)("00:00"),w=Object(l.a)(O,2),N=w[0],I=w[1],k=Object(n.useState)(),j=Object(l.a)(k,2),_=j[0],U=j[1],D=Object(A.c)((function(e){return e.socket})),M=Object(A.c)((function(e){return e.currentChattingUserData})),B=M.status,L=function(){var e=Object(C.a)(S.a.mark((function e(){var t;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.getAudioStream();case 2:return t=e.sent,e.next=5,y.mediaRecorder(t);case 5:y.startRec(),x(!0);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),P=function(){var e=Object(C.a)(S.a.mark((function e(){var a,n,r,o,s;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=y.formData,e.prev=1,n={headers:{"Content-Type":"multipart/form-data"}},e.next=5,T.a.post("".concat(R,"/api/v1/uploadRecordRoute"),a,n);case 5:r=e.sent,o=r.data,s={room:t._id,receiver:t.userToShowOnRoom._id,messageTXT:"Record",clientId:Object(Wt.a)(),status:"written",messageType:"record",mediaLink:o.path},i(zt(s)),i(Ft(s)),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(1),alert("ERROR UPLOADING YOUR IMAGE"),console.log(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])})));return function(){return e.apply(this,arguments)}}(),F=function(){var e=Object(C.a)(S.a.mark((function e(){return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return x(!1),e.next=3,y.stopRec();case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),z=function(){var e=Object(C.a)(S.a.mark((function e(){return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return x(!1),e.next=3,y.stopRec();case 3:P();case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){var e=0,t=0,a="",n="";b?U(setInterval((function(){++t>=60&&(e++,t=0),a=e<10?"0".concat(e):"".concat(e),n=t<10?"0".concat(t):"".concat(t),I("".concat(a,":").concat(n))}),1e3)):"00:00"!==N&&(e=0,t=0,a="",n="",I("00:00"),_&&clearInterval(_))}),[b]),Object(n.useEffect)((function(){u.trim()?h(!0):h(!1)}),[u]),Object(n.useEffect)((function(){"online"!==B&&"startTyping"!==B&&"stopTyping"!==B||!D.id||(g?D.emit("user-currently-typing",{typingUserId:a._id,onlineUserId:M.onlineId,typingUserOnlineId:D.id}):D.emit("user-stopped-typing",{typingUserId:a._id,onlineUserId:M.onlineId,typingUserOnlineId:D.id}))}),[t,D,B,g,a,M.onlineId]),Object(n.useEffect)((function(){p(""),D.id&&D.emit("user-stopped-typing",{typingUserId:a._id,onlineUserId:M.onlineId,typingUserOnlineId:D.id})}),[M._id]),r.a.createElement("form",{autoComplete:"off",className:o.root,onSubmit:function(e){if(e.preventDefault(),u){var a={room:t._id,receiver:t.userToShowOnRoom._id,messageTXT:u,clientId:Object(Wt.a)(),status:"written"};i(zt(a)),i(Ft(a)),h(!1),p("")}}},r.a.createElement("div",{className:o.msgBox},r.a.createElement("input",{disabled:b,id:"new-message-input",autoFocus:!0,placeholder:"Type a message",type:"text",className:o.msgInput,rows:"1",value:u,onChange:function(e){p(e.target.value)},autoComplete:"off"})),r.a.createElement("div",{className:o.send},b?r.a.createElement("div",{className:o.recordingContainer},r.a.createElement(Ce.a,{onClick:F,size:"small",className:o.cancelRecording},r.a.createElement(W.a,null)),r.a.createElement("div",{className:o.recordTimeContainer},r.a.createElement("span",{className:o.recordingRedDot}),r.a.createElement("span",{className:o.recordingTim},N)),r.a.createElement(Ce.a,{onClick:z,size:"small",className:o.sendRecord},r.a.createElement(Mt.a,null))):u?r.a.createElement(Ce.a,{type:"submit"},r.a.createElement(Bt.a,{style:{color:"#9B9B9B"}})):r.a.createElement(Ce.a,{onClick:L},r.a.createElement(Lt.a,null))))},Qt=Object(u.a)((function(e){return{root:{width:"100%",height:"100px",position:"relative",zIndex:"10",textAlign:"center","&>button":{marginTop:"10px",fontWeight:"bold"}}}})),Jt=function(e){var t=e.message,a=e.onAccept,n=e.onBlock,o=Qt();return r.a.createElement("div",{className:o.root},r.a.createElement(le,{message:t}),r.a.createElement(E.a,{style:{marginRight:"10px"},variant:"outlined",margin:"normal",onClick:a},"Accept"),r.a.createElement(E.a,{variant:"outlined",margin:"normal",onClick:n},"Block"))},qt=Object(u.a)((function(e){return{root:{width:"100%",position:"relative",zIndex:"10",textAlign:"center","&>button":{marginTop:"10px",fontWeight:"bold"}}}})),Vt=function(e){var t=e.severity,a=e.message,n=e.onUnBlock,o=qt();return r.a.createElement("div",{className:o.root},r.a.createElement(le,{severity:t,message:a}),n&&r.a.createElement(E.a,{style:{marginRight:"10px"},variant:"outlined",margin:"normal",onClick:n},"UnBlock"))},Xt=Object(u.a)((function(e){return{root:{position:"absolute",top:"0",left:"0",width:"100%",height:"100%",zIndex:"20",overflow:"auto",backgroundColor:"#EDEDED","&::-webkit-scrollbar":{width:"5px"},"&::-webkit-scrollbar-thumb":{background:"#CCCCCC",borderRadius:"10px"},"&::-webkit-scrollbar-thumb:hover":{background:"#aaa"}},closed:{width:"0",height:"0"},header:{padding:"10px",paddingBottom:"20px",width:"100%",height:"108px",display:"flex",alignItems:"flex-end",justifyContent:"space-between",position:"relative",backgroundColor:"#00BFA5",zIndex:"10",color:"white",fontSize:"19px"},profilePhotoContainer:{width:"100%",backgroundColor:"#EDEDED",display:"flex",justifyContent:"center",alignItems:"center",padding:"20px"},photoContainer:{display:"flex",justifyContent:"flex-end",alignItems:"center"},avatarContainer:{width:"250px",height:"250px",position:"relative","&:hover>.controllersContainer":{opacity:"1"},"& .MuiAvatar-root":{width:"100%",height:"100%"}},profileImage:{position:"absolute",zIndex:"100",width:"100%",height:"100%",borderRadius:"50%"},infoHeader:{color:"#009688",fontSize:"20px",fontWeight:"bold",marginBottom:"10px"},userEmail:{textDecoration:"none",color:"#555"},infoContent:{color:"#333"},infoContainer:{width:"100%",backgroundColor:"#ffffff",padding:"10px 15px",marginTop:"10px",paddingBottom:"20px",boxShadow:"0 1px 3px #ccc, 0 -1px 3px #ccc "}}})),Kt=function(e){var t=e.open,a=e.setOpenUserInfo,n=Xt(),o=Object(A.c)((function(e){return e.currentChattingUserData})),i=o.photo,s=o.firstName,c=o.about,l=o.email;return r.a.createElement("div",{className:n.root+" "+(t?"":n.closed)},r.a.createElement("div",{className:n.header},r.a.createElement("div",null,r.a.createElement(Ce.a,{style:{color:"white"},onClick:function(){return a(!1)}},r.a.createElement(et.a,null)),s),r.a.createElement("div",{className:n.saveChangesContainer})),r.a.createElement("div",{className:n.content},r.a.createElement("section",{className:n.profilePhotoContainer},r.a.createElement("div",{className:n.avatarContainer},r.a.createElement(F.a,{src:i,alt:"user profile",className:n.profileImage}))),r.a.createElement("section",{className:n.infoContainer},r.a.createElement("header",{className:n.infoHeader},"Name"),r.a.createElement("p",{className:n.infoContent},s)),r.a.createElement("section",{className:n.infoContainer},r.a.createElement("header",{className:n.infoHeader},"Email"),r.a.createElement("p",{className:n.infoContent},r.a.createElement("a",{className:n.userEmail,href:"mailto:".concat(l)},l))),r.a.createElement("section",{className:n.infoContainer},r.a.createElement("header",{className:n.infoHeader},"About"),r.a.createElement("p",{className:n.infoContent},c))))},$t=function(e){var t=e.currentOpenRoom,a=e.currentOpenRoomId,o=e.setOpenSideBar,i=e.setOpenChatBox,s=ct(),c=Object(A.b)(),u=Object(n.useState)(!1),p=Object(l.a)(u,2),d=p[0],m=p[1],g=Object(A.c)((function(e){return e.loginUser})).user;Object(n.useEffect)((function(){var e;c((e=a,function(){var t=Object(C.a)(S.a.mark((function t(a,n){var r,o,i,s;return S.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:"GET_ROOM_MESSAGES_REQUEST"}),r="Bearer ".concat(n().loginUser.user.token),o={headers:{authorization:r}},t.next=6,T.a.get("".concat(k,"/getRoomMessages/").concat(e),o);case 6:i=t.sent,s=i.data.data,a({type:"GET_ROOM_MESSAGES_SUCCESS",payload:s}),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),a({type:"GET_ROOM_MESSAGES_FAIL",payload:t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message});case 14:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(e,a){return t.apply(this,arguments)}}()))}),[a,c]);return r.a.createElement("div",{className:s.root},a&&r.a.createElement(mt,{setOpenUserInfo:m,currentOpenRoom:t,setOpenSideBar:o,setOpenChatBox:i}),t.myBlock||t.otherUserBlock?null:a&&!t.accepted?t.otherUser===g._id?r.a.createElement(Jt,{onAccept:function(){var e;c((e=a,function(){var t=Object(C.a)(S.a.mark((function t(a,n){var r,o,i,s;return S.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:"HANDLE_ACCEPT_ROOM_REQUEST"}),r="Bearer ".concat(n().loginUser.user.token),o={headers:{"Content-Type":"application/json",authorization:r}},t.next=6,T.a.post("".concat(I,"/acceptRoom"),{room:e},o);case 6:i=t.sent,s=i.data.data,a({type:"HANDLE_ACCEPT_ROOM_SUCCESS",payload:s}),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),a({type:"HANDLE_ACCEPT_ROOM_FAIL",payload:t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message});case 14:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(e,a){return t.apply(this,arguments)}}()))},onBlock:function(){c(Ee(a,t.userToShowOnRoom._id))},message:"".concat(t.userToShowOnRoom.firstName," wants to chat you")}):r.a.createElement(Tt,{message:"Wait until ".concat(t.userToShowOnRoom.firstName," accept your request")}):null,t.myBlock?r.a.createElement(Vt,{message:"You blocked ".concat(t.userToShowOnRoom.fullName),onUnBlock:function(){c(be(a,t.userToShowOnRoom._id))}}):t.otherUserBlock?r.a.createElement(Vt,{message:"You are blocked from ".concat(t.userToShowOnRoom.fullName),severity:"error"}):null,t.accepted&&r.a.createElement(Dt,{user:g}),a&&t.accepted&&!t.myBlock&&!t.otherUserBlock&&r.a.createElement(Yt,{currentOpenRoom:t,user:g}),r.a.createElement(Kt,{open:d,setOpenUserInfo:m}),r.a.createElement("div",{className:s.bgObjects}))},Zt=function(e){var t=e.open,a=e.setOpenSideBar,o=e.setOpenChatBox,i=e.smallScreen,s=Object(A.b)(),c=Object(A.c)((function(e){return e.currentOpenRoom})),l=c.currentOpenRoomId,u=c.currentOpenRoom,p=void 0===u?{}:u;Object(n.useEffect)((function(){l&&!p._id&&s(he(l))}),[p,l,s]);var d=ot();return r.a.createElement("div",{className:d.root+" "+(i?t?d.open:d.closed:"")},l&&p._id?r.a.createElement($t,{currentOpenRoomId:l,currentOpenRoom:p,setOpenSideBar:a,setOpenChatBox:o}):r.a.createElement(st,null))},ea=a(145),ta=a.n(ea),aa=function(e){var t=e.history,a=we(),o=Object(A.b)(),i=Object(n.useState)(!0),s=Object(l.a)(i,2),c=s[0],u=s[1],p=Object(n.useState)(!0),d=Object(l.a)(p,2),m=d[0],g=d[1],h=Object(n.useState)(!1),f=Object(l.a)(h,2),E=f[0],b=f[1],x=Object(A.c)((function(e){return e.loginUser})).user,v=Object(A.c)((function(e){return e.socket}));return Object(n.useEffect)((function(){x&&x.token?o((function(e,t){var a=t().loginUser.user;e({type:"CREATE_SOCKET",payload:ta.a.connect(R,{query:{id:a._id}})})})):t.replace("/login")}),[o,t,x]),Object(n.useEffect)((function(){window.innerWidth<=600&&(u(!0),g(!1),b(!0))}),[]),Object(n.useEffect)((function(){v.on&&(v.on("server--user-send-message",(function(e){var t,a;o((t=e.room,function(){var e=Object(C.a)(S.a.mark((function e(a,n){var r,o,i,s;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r="Bearer ".concat(n().loginUser.user.token),o={headers:{"Content-Type":"application/json",authorization:r}},e.next=5,T.a.get("".concat(I,"/").concat(t),o);case 5:i=e.sent,s=i.data.data,a({type:"UPDATE_ROOM_PUT_UP",payload:s}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),a({type:"HANDLE_ACCEPT_ROOM_FAIL",payload:e.t0.response&&e.t0.response.data.message?e.t0.response.data.message:e.t0.message});case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,a){return e.apply(this,arguments)}}())),o(zt(e)),o((a=e,function(e,t){var n=t().currentChattingUserData,r=t().socket,o=t().currentOpenRoom.currentOpenRoomId,i=t().loginUser.user._id,s=a.sender,c=a.room,l=s!==i,u=n.status;l&&c===o&&u.match(/online|startTyping|stopTyping/)&&r.emit("user-read-message",{message:a,senderOnlineId:n.onlineId})}))})),v.on("server--user-added-new-room",(function(e){o(fe(e)),o({type:"CREATE_ROOM_RESET"})})),v.on("server--user-accept-new-room",(function(e){o(fe(e)),o(xe(e._id))})),v.on("server--user-delete-chat",(function(e){o(function(e){return function(t,a){(a().currentOpenRoom.currentOpenRoom&&a().currentOpenRoom.currentOpenRoom._id)===e&&(localStorage.removeItem("currentRoom"),t({type:"CURRENT_OPEN_ROOM_RESET3",payload:e})),t({type:"UPDATE_ROOMS_AFTER_DELETING",payload:e})}}(e))})),v.on("server--user-block-room",(function(e){o(xe(e.room))})),v.on("server--user-unblock-room",(function(e){o(xe(e.room))})),v.on("server--user-online",(function(e){var t=e.userId,a=e.onlineId;o(U({status:"online",userId:t,onlineId:a}))})),v.on("server--user-offline",(function(e){var t=e.userId,a=e.lastSeenAt;o(U({status:"offline",userId:t,lastSeenAt:a}))})),v.on("server--user-currently-typing",(function(e){var t=e.userId,a=e.typingUserOnlineId;o(U({status:"startTyping",userId:t,typing:!0,typingUserOnlineId:a}))})),v.on("server--user-stopped-typing",(function(e){var t=e.userId,a=e.typingUserOnlineId;o(U({status:"stopTyping",userId:t,typing:!1,typingUserOnlineId:a}))})))}),[o,v]),x&&x.token?r.a.createElement("div",{className:a.root},r.a.createElement(rt,{smallScreen:E,open:c,setOpenChatBox:g,setOpenSideBar:u}),r.a.createElement(Zt,{smallScreen:E,open:m,setOpenSideBar:u,setOpenChatBox:g})):null},na=Object(u.a)((function(e){return{root:{width:"90vw",height:"90vh",background:"white",position:"relative",zIndex:"2",boxShadow:" -2px -2px 10px grey",display:"flex",textAlign:"center",flexDirection:"column",overflow:"auto","&::-webkit-scrollbar":{width:"5px"},"&::-webkit-scrollbar-thumb":{background:"#CCCCCC",borderRadius:"10px"},"&::-webkit-scrollbar-thumb:hover":{background:"#aaa"}},header:{width:"100%",height:"200px",backgroundColor:"#EDEDED",boxShadow:"0 1px 3px #ccc, 0 -1px 3px #ccc ",display:"flex",alignItems:"center",padding:"10px"},myPic:{width:"180px",height:"180px"},myName:{fontSize:"30px",marginLeft:"20px"},myEmail:{marginTop:"15px",textAlign:"left",marginLeft:"20px",fontSize:"20px","& a":{textDecoration:"none",color:"#009688"}},contentContainer:{width:"100%",paddingTop:"20px","& a":{marginRight:"10px",cursor:"pointer"},"& section":{marginBottom:"20px",padding:"10px 0"},"& section:nth-child(even)":{backgroundColor:"#EDEDED",boxShadow:"0 1px 3px #ccc, 0 -1px 3px #ccc "}},facebook:{fontSize:"50px",color:"#314E8D"},twitter:{fontSize:"50px",color:"#1CA0F1"},linkedIn:{fontSize:"50px",color:"#0A66C2"},phoneContainer:{display:"flex",alignItems:"center",justifyContent:"center"},whatsApp:{fontSize:"50px",color:"#0CC042",marginRight:"10px"},phoneNo:{display:"inline-block",backgroundColor:"white",padding:"10px 8px",borderRadius:"10px",boxShadow:"0px 0px 3px  #ccc inset,1px 1px 3px  #ccc inset",cursor:"pointer",fontSize:"18px"},feedbackForm:{width:"350px",margin:"auto"},userFeedBack:{padding:"10px 15px",border:"none",resize:"none",minHeight:"100px",maxHeight:"120px",width:"350px",boxShadow:"0px 0px 3px  #ccc inset,1px 1px 3px  #ccc inset",borderRadius:"10px",transition:"0 all",outline:"none",lineHeight:"1.5","&::-webkit-scrollbar":{width:"5px"},"&::-webkit-scrollbar-thumb":{background:"#CCCCCC",borderRadius:"10px"},"&::-webkit-scrollbar-thumb:hover":{background:"#aaa"},"&:focus":{backgroundColor:"#eee"}},sendUserFeedBackBtn:{backgroundColor:"#049588",color:"white","&:hover":{backgroundColor:"#049560"}}}})),ra=a(146),oa=a.n(ra),ia=a(147),sa=a.n(ia),ca=a(149),la=a.n(ca),ua=a(148),pa=a.n(ua),da=function(){var e=na(),t=Object(n.useState)(""),a=Object(l.a)(t,2),o=a[0],i=a[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:e.root},r.a.createElement("header",{className:e.header},r.a.createElement(O.b,{to:"/",style:{width:"20px",height:"20px",marginRight:"20px"}},r.a.createElement(et.a,null)),r.a.createElement(F.a,{src:"/images/other/mine.jpg",className:e.myPic}),r.a.createElement("div",{className:e.info},r.a.createElement("div",{className:e.myName},"Amr Mohammed Hassan"),r.a.createElement("div",{className:e.myEmail},r.a.createElement("a",{title:"Send Gmail Email",href:"mailto:amrmhassanmarsafa@gmail.com"},"Send Email")))),r.a.createElement("div",{className:e.contentContainer},r.a.createElement("section",null,r.a.createElement("a",{href:"https://www.facebook.com/amrm.hassan.10"},r.a.createElement(Ce.a,{title:"FaceBook Profile"},r.a.createElement(oa.a,{className:e.facebook}))),r.a.createElement("a",{href:"https://twitter.com/Amr07680989"},r.a.createElement(Ce.a,{title:"Twitter Profile"},r.a.createElement(sa.a,{className:e.twitter}))),r.a.createElement("a",{href:"https://www.linkedin.com/in/amr-hassan-354985193/"},r.a.createElement(Ce.a,{title:"LinkedIn Profile"},r.a.createElement(pa.a,{className:e.linkedIn})))),r.a.createElement("section",{title:"WhatsApp Number",className:e.phoneContainer},r.a.createElement(la.a,{title:"WhatsApp Number",className:e.whatsApp}),r.a.createElement("div",{title:"WhatsApp Number",className:e.phoneNo},"+20 1147497502")),r.a.createElement("section",null,r.a.createElement("form",{onSubmit:function(e){e.preventDefault(),i("")},className:e.feedbackForm},r.a.createElement("textarea",{className:e.userFeedBack,placeholder:"You can leave a me a message here ...",onChange:function(e){return i(e.target.value)},value:o}),r.a.createElement(E.a,{fullWidth:!0,variant:"contained",className:e.sendUserFeedBackBtn,disabled:o.trim().length<5&&!0,type:"submit"},"Send"))))))},ma=a(302),ga=a(229),ha=a(276),fa=a(303),Ea=a(300),ba=a(301),xa=a(150),va=a.n(xa),ya=a(299),Oa=Object(u.a)((function(e){return{appBar:{position:"relative"},title:{marginLeft:e.spacing(2),flex:1}}})),wa=r.a.forwardRef((function(e,t){return r.a.createElement(ya.a,Object.assign({direction:"up",ref:t},e))}));function Sa(){var e=Oa(),t=r.a.useState(!1),a=Object(l.a)(t,2),n=a[0],o=a[1],i=function(){o(!1)};return r.a.createElement("div",null,r.a.createElement(E.a,{variant:"outlined",color:"primary",onClick:function(){o(!0)}},"Open full-screen dialog"),r.a.createElement(Ue.a,{fullScreen:!0,open:n,onClose:i,TransitionComponent:wa},r.a.createElement(Ea.a,{className:e.appBar},r.a.createElement(ba.a,null,r.a.createElement(Ce.a,{edge:"start",color:"inherit",onClick:i,"aria-label":"close"},r.a.createElement(va.a,null)),r.a.createElement(g.a,{variant:"h6",className:e.title},"Sound"),r.a.createElement(E.a,{autoFocus:!0,color:"inherit",onClick:i},"save"))),r.a.createElement(ha.a,null,r.a.createElement(ga.a,{button:!0},r.a.createElement(ma.a,{primary:"Phone ringtone",secondary:"Titania"})),r.a.createElement(fa.a,null),r.a.createElement(ga.a,{button:!0},r.a.createElement(ma.a,{primary:"Default notification ringtone",secondary:"Tethys"})))))}var Ca=a(20),Ra=function(){return r.a.createElement(O.a,null,r.a.createElement(Ca.a,{path:"/login",component:M}),r.a.createElement(Ca.a,{path:"/signup",component:H}),r.a.createElement(Ca.a,{path:"/home",component:aa}),r.a.createElement(Ca.a,{path:"/contactMe",component:da}),r.a.createElement(Ca.a,{path:"/forgotPassword",component:q}),r.a.createElement(Ca.a,{path:"/addFriend",component:ye}),r.a.createElement(Ca.a,{path:"/resetPassword/:token",component:$}),r.a.createElement(Ca.a,{path:"/verifyEmail/:token",component:Oe}),r.a.createElement(Ca.a,{path:"/test",component:Sa}),r.a.createElement(Ca.a,{path:"/",component:aa,exact:!0}))},Na=a(56),Ia=a(151),ka=(a(226),a(72)),ja=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"clientId",n=e.find((function(e){return e[a]===t[a]})),r=e.indexOf(n);return e.splice(r,1,t),e},_a=Object(Na.combineReducers)({loginUser:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOGIN_REQUEST":return{loading:!0};case"LOGIN_SUCCESS":return{loading:!1,user:t.payload,success:!0};case"LOGIN_FAIL":return{loading:!1,err:t.payload};case"SIGNUP_REQUEST":return{loading:!0};case"SIGNUP_SUCCESS":return{loading:!1,user:t.payload,success:!0};case"SIGNUP_FAIL":return{loading:!1,err:t.payload};case"LOGOUT_USER":return{};case"UPDATE_USER_SUCCESS":return Object(c.a)(Object(c.a)({},e),{},{user:Object(c.a)(Object(c.a)({},e.user),t.payload)});case"VERIFY_USER_SUCCESS":return{loading:!1,user:t.payload,success:!0};default:return e}},myRooms:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{rooms:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_MY_ROOMS_REQUEST":return{loading:!0};case"GET_MY_ROOMS_SUCCESS":return{loading:!1,rooms:t.payload};case"GET_MY_ROOMS_FAIL":return{loading:!1,err:t.payload};case"UPDATE_ROOM_PUT_UP":var a=t.payload._id,n=Object(ka.a)(e.rooms).filter((function(e){return e._id!==a}));return n.unshift(t.payload),Object(c.a)(Object(c.a)({},e),{},{rooms:n});case"UPDATE_ROOMS_AFTER_DELETING":var r=t.payload,o=Object(ka.a)(e.rooms).filter((function(e){return e._id!==r}));return Object(c.a)(Object(c.a)({},e),{},{rooms:o});case"GET_MY_ROOMS_RESET":return{};default:return e}},createRoom:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CREATE_ROOM_REQUEST":return{loading:!0};case"CREATE_ROOM_SUCCESS":return{loading:!1,room:t.payload,success:!0};case"CREATE_ROOM_FAIL":return{loading:!1,err:t.payload};case"CREATE_ROOM_RESET":return{};default:return e}},currentOpenRoom:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{currentOpenRoomId:"",currentOpenRoom:{}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CURRENT_OPEN_ROOM_REQUEST":return{loading:!0};case"CURRENT_OPEN_ROOM_SUCCESS":return{currentOpenRoom:t.payload,loading:!1,success:!0,currentOpenRoomId:t.payload._id};case"CURRENT_OPEN_ROOM_REQUEST":return{loading:!1,err:t.payload};case"CURRENT_OPEN_ROOM_RESET3":return{};case"UPDATE_CURRENT_OPEN_ROOM":return Object(c.a)(Object(c.a)({},e),{},{currentOpenRoom:t.payload});case"TYPING_MESSAGE":return Object(c.a)(Object(c.a)({},e),{},{typing:t.payload});default:return e}},roomMessages:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{messages:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_ROOM_MESSAGES_REQUEST":return{loading:!0};case"GET_ROOM_MESSAGES_SUCCESS":return{loading:!1,messages:t.payload};case"GET_ROOM_MESSAGES_FAIL":return{loading:!1,err:t.payload};case"UPDATE_DISPLAYED_MESSAGES":try{var a=t.payload,n=a.message,r=a.addMyMessage,o=a.updateMyMessage,i=a.addOtherMessage,s=Object(ka.a)(e.messages);if(r)s.push(n);else if(o){var l=ja(s,n);s=l}else i?s.push(n):alert("Non expected state coming from message reducer check console");return Object(c.a)(Object(c.a)({},e),{},{messages:s})}catch(u){return e}case"GET_ROOM_MESSAGES_RESET":return{};default:return e}},createMessage:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CREATE_MESSAGE_REQUEST":return{loading:!0};case"CREATE_MESSAGE_SUCCESS":return{loading:!1,message:t.payload,success:!0};case"CREATE_MESSAGE_FAIL":return{loading:!1,err:t.payload};case"CREATE_MESSAGE_RESET":return{};default:return e}},socket:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CREATE_SOCKET":return t.payload;case"DISCONNECT_SOCKET":return{};default:return e}},userForgotPassword:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FORGOT_PASSWORD_REQUEST":return{loading:!0};case"FORGOT_PASSWORD_SUCCESS":return{loading:!1,success:!0};case"FORGOT_PASSWORD_FAIL":return{loading:!1,err:t.payload};default:return e}},userResetPassword:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"RESET_PASSWORD_REQUEST":return{loading:!0};case"RESET_PASSWORD_SUCCESS":return{loading:!1,success:!0};case"RESET_PASSWORD_FAIL":return{loading:!1,err:t.payload};default:return e}},currentChattingUserData:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CURRENT_USER_DATA":return Object(c.a)(Object(c.a)({},e),t.payload);case"CURRENT_USER_DATA_RESET":return{};default:return e}},updateMe:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"UPDATE_USER_REQUEST":return{loading:!0};case"UPDATE_USER_SUCCESS":return{loading:!1,success:!0};case"UPDATE_USER_FAIL":return{loading:!1,err:t.payload};case"UPDATE_USER_RESET":return{};default:return e}},userVerifyEmail:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"VERIFY_USER_REQUEST":return{loading:!0};case"VERIFY_USER_FAIL":return{loading:!1,err:t.payload};case"VERIFY_USER_RESET":return{};default:return e}},searchUsers:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SEARCH_USERS_REQUEST":return{loading:!0};case"SEARCH_USERS_SUCCESS":return{loading:!1,success:!0,users:t.payload};case"SEARCH_USERS_FAIL":return{loading:!1,err:t.payload};case"SEARCH_USERS_RESET":return{};default:return e}}}),Ta=localStorage.getItem("loggedInUser")?JSON.parse(localStorage.getItem("loggedInUser")):{},Ua=localStorage.getItem("currentChattingUserData")?JSON.parse(localStorage.getItem("currentChattingUserData")):{},Aa={loginUser:{user:Ta},currentOpenRoom:{currentOpenRoomId:localStorage.getItem("currentOpenRoomId")||"",currentOpenRoomData:{}},currentChattingUserData:Ua},Da=[Ia.a],Ma=Object(Na.createStore)(_a,Aa,Na.applyMiddleware.apply(void 0,Da));a(227);i.a.render(r.a.createElement(A.a,{store:Ma},r.a.createElement(Ra,null)),document.getElementById("root"))}},[[167,1,2]]]);
//# sourceMappingURL=main.6dcb69ee.chunk.js.map